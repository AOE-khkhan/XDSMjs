!function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=31)}([function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(e){if(c===setTimeout)return setTimeout(e,0);if((c===n||!c)&&setTimeout)return c=setTimeout,setTimeout(e,0);try{return c(e,0)}catch(t){try{return c.call(null,e,0)}catch(t){return c.call(this,e,0)}}}function i(e){if(d===clearTimeout)return clearTimeout(e);if((d===r||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{return d(e)}catch(t){try{return d.call(null,e)}catch(t){return d.call(this,e)}}}function a(){g&&p&&(g=!1,p.length?h=p.concat(h):v=-1,h.length&&s())}function s(){if(!g){var e=o(a);g=!0;for(var t=h.length;t;){for(p=h,h=[];++v<t;)p&&p[v].run();v=-1,t=h.length}p=null,g=!1,i(e)}}function u(e,t){this.fun=e,this.array=t}function f(){}var c,d,l=e.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:n}catch(e){c=n}try{d="function"==typeof clearTimeout?clearTimeout:r}catch(e){d=r}}();var p,h=[],g=!1,v=-1;l.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];h.push(new u(e,t)),1!==h.length||g||o(s)},u.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={},l.on=f,l.addListener=f,l.once=f,l.off=f,l.removeListener=f,l.removeAllListeners=f,l.emit=f,l.prependListener=f,l.prependOnceListener=f,l.listeners=function(e){return[]},l.binding=function(e){throw new Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(e){throw new Error("process.chdir is not supported")},l.umask=function(){return 0}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){"use strict";function r(e){if(!(this instanceof r))return new r(e);f.call(this,e),c.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",o)}function o(){this.allowHalfOpen||this._writableState.ended||s(i,this)}function i(e){e.end()}var a=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=r;var s=n(13),u=n(6);u.inherits=n(1);var f=n(23),c=n(15);u.inherits(r,f);for(var d=a(c.prototype),l=0;l<d.length;l++){var p=d[l];r.prototype[p]||(r.prototype[p]=c.prototype[p])}},function(e,t,n){"use strict";(function(e){function r(){return i.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function o(e,t){if(r()<t)throw new RangeError("Invalid typed array length");return i.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t),e.__proto__=i.prototype):(null===e&&(e=new i(t)),e.length=t),e}function i(e,t,n){if(!(i.TYPED_ARRAY_SUPPORT||this instanceof i))return new i(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return f(this,e)}return a(this,e,t,n)}function a(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?l(e,t,n,r):"string"==typeof t?c(e,t,n):p(e,t)}function s(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function u(e,t,n,r){return s(t),t<=0?o(e,t):void 0!==n?"string"==typeof r?o(e,t).fill(n,r):o(e,t).fill(n):o(e,t)}function f(e,t){if(s(t),e=o(e,t<0?0:0|h(t)),!i.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function c(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!i.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|v(t,n);e=o(e,r);var a=e.write(t,n);return a!==r&&(e=e.slice(0,a)),e}function d(e,t){var n=t.length<0?0:0|h(t.length);e=o(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function l(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),i.TYPED_ARRAY_SUPPORT?(e=t,e.__proto__=i.prototype):e=d(e,t),e}function p(e,t){if(i.isBuffer(t)){var n=0|h(t.length);return e=o(e,n),0===e.length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||K(t.length)?o(e,0):d(e,t);if("Buffer"===t.type&&X(t.data))return d(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function h(e){if(e>=r())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r().toString(16)+" bytes");return 0|e}function g(e){return+e!=e&&(e=0),i.alloc(+e)}function v(e,t){if(i.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return z(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return V(e).length;default:if(r)return z(e).length;t=(""+t).toLowerCase(),r=!0}}function m(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,t>>>=0,n<=t)return"";for(e||(e="utf8");;)switch(e){case"hex":return N(this,t,n);case"utf8":case"utf-8":return k(this,t,n);case"ascii":return q(this,t,n);case"latin1":case"binary":return j(this,t,n);case"base64":return T(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function y(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function b(e,t,n,r,o){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof t&&(t=i.from(t,r)),i.isBuffer(t))return 0===t.length?-1:w(e,t,n,r,o);if("number"==typeof t)return t&=255,i.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):w(e,[t],n,r,o);throw new TypeError("val must be string, number or Buffer")}function w(e,t,n,r,o){function i(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}var a=1,s=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,u/=2,n/=2}var f;if(o){var c=-1;for(f=n;f<s;f++)if(i(e,f)===i(t,-1===c?0:f-c)){if(-1===c&&(c=f),f-c+1===u)return c*a}else-1!==c&&(f-=f-c),c=-1}else for(n+u>s&&(n=s-u),f=n;f>=0;f--){for(var d=!0,l=0;l<u;l++)if(i(e,f+l)!==i(t,l)){d=!1;break}if(d)return f}return-1}function _(e,t,n,r){n=Number(n)||0;var o=e.length-n;r?(r=Number(r))>o&&(r=o):r=o;var i=t.length;if(i%2!=0)throw new TypeError("Invalid hex string");r>i/2&&(r=i/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function E(e,t,n,r){return H(z(t,e.length-n),e,n,r)}function x(e,t,n,r){return H(W(t),e,n,r)}function S(e,t,n,r){return x(e,t,n,r)}function A(e,t,n,r){return H(V(t),e,n,r)}function O(e,t,n,r){return H($(t,e.length-n),e,n,r)}function T(e,t,n){return 0===t&&n===e.length?Z.fromByteArray(e):Z.fromByteArray(e.slice(t,n))}function k(e,t,n){n=Math.min(e.length,n);for(var r=[],o=t;o<n;){var i=e[o],a=null,s=i>239?4:i>223?3:i>191?2:1;if(o+s<=n){var u,f,c,d;switch(s){case 1:i<128&&(a=i);break;case 2:u=e[o+1],128==(192&u)&&(d=(31&i)<<6|63&u)>127&&(a=d);break;case 3:u=e[o+1],f=e[o+2],128==(192&u)&&128==(192&f)&&(d=(15&i)<<12|(63&u)<<6|63&f)>2047&&(d<55296||d>57343)&&(a=d);break;case 4:u=e[o+1],f=e[o+2],c=e[o+3],128==(192&u)&&128==(192&f)&&128==(192&c)&&(d=(15&i)<<18|(63&u)<<12|(63&f)<<6|63&c)>65535&&d<1114112&&(a=d)}}null===a?(a=65533,s=1):a>65535&&(a-=65536,r.push(a>>>10&1023|55296),a=56320|1023&a),r.push(a),o+=s}return R(r)}function R(e){var t=e.length;if(t<=Q)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=Q));return n}function q(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(127&e[o]);return r}function j(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(e[o]);return r}function N(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var o="",i=t;i<n;++i)o+=Y(e[i]);return o}function L(e,t,n){for(var r=e.slice(t,n),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function P(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function D(e,t,n,r,o,a){if(!i.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<a)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function B(e,t,n,r){t<0&&(t=65535+t+1);for(var o=0,i=Math.min(e.length-n,2);o<i;++o)e[n+o]=(t&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function M(e,t,n,r){t<0&&(t=4294967295+t+1);for(var o=0,i=Math.min(e.length-n,4);o<i;++o)e[n+o]=t>>>8*(r?o:3-o)&255}function C(e,t,n,r,o,i){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function U(e,t,n,r,o){return o||C(e,t,n,4,3.4028234663852886e38,-3.4028234663852886e38),J.write(e,t,n,r,23,4),n+4}function I(e,t,n,r,o){return o||C(e,t,n,8,1.7976931348623157e308,-1.7976931348623157e308),J.write(e,t,n,r,52,8),n+8}function F(e){if(e=G(e).replace(ee,""),e.length<2)return"";for(;e.length%4!=0;)e+="=";return e}function G(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function Y(e){return e<16?"0"+e.toString(16):e.toString(16)}function z(e,t){t=t||1/0;for(var n,r=e.length,o=null,i=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function W(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function $(e,t){for(var n,r,o,i=[],a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,o=n%256,i.push(o),i.push(r);return i}function V(e){return Z.toByteArray(F(e))}function H(e,t,n,r){for(var o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}function K(e){return e!==e}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var Z=n(33),J=n(47),X=n(21);t.Buffer=i,t.SlowBuffer=g,t.INSPECT_MAX_BYTES=50,i.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=r(),i.poolSize=8192,i._augment=function(e){return e.__proto__=i.prototype,e},i.from=function(e,t,n){return a(null,e,t,n)},i.TYPED_ARRAY_SUPPORT&&(i.prototype.__proto__=Uint8Array.prototype,i.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&i[Symbol.species]===i&&Object.defineProperty(i,Symbol.species,{value:null,configurable:!0})),i.alloc=function(e,t,n){return u(null,e,t,n)},i.allocUnsafe=function(e){return f(null,e)},i.allocUnsafeSlow=function(e){return f(null,e)},i.isBuffer=function(e){return!(null==e||!e._isBuffer)},i.compare=function(e,t){if(!i.isBuffer(e)||!i.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,o=0,a=Math.min(n,r);o<a;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0},i.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.concat=function(e,t){if(!X(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return i.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=i.allocUnsafe(t),o=0;for(n=0;n<e.length;++n){var a=e[n];if(!i.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,o),o+=a.length}return r},i.byteLength=v,i.prototype._isBuffer=!0,i.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)y(this,t,t+1);return this},i.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},i.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},i.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?k(this,0,e):m.apply(this,arguments)},i.prototype.equals=function(e){if(!i.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===i.compare(this,e)},i.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},i.prototype.compare=function(e,t,n,r,o){if(!i.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),t<0||n>e.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&t>=n)return 0;if(r>=o)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,r>>>=0,o>>>=0,this===e)return 0;for(var a=o-r,s=n-t,u=Math.min(a,s),f=this.slice(r,o),c=e.slice(t,n),d=0;d<u;++d)if(f[d]!==c[d]){a=f[d],s=c[d];break}return a<s?-1:s<a?1:0},i.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},i.prototype.indexOf=function(e,t,n){return b(this,e,t,n,!0)},i.prototype.lastIndexOf=function(e,t,n){return b(this,e,t,n,!1)},i.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return _(this,e,t,n);case"utf8":case"utf-8":return E(this,e,t,n);case"ascii":return x(this,e,t,n);case"latin1":case"binary":return S(this,e,t,n);case"base64":return A(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Q=4096;i.prototype.slice=function(e,t){var n=this.length;e=~~e,t=void 0===t?n:~~t,e<0?(e+=n)<0&&(e=0):e>n&&(e=n),t<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);var r;if(i.TYPED_ARRAY_SUPPORT)r=this.subarray(e,t),r.__proto__=i.prototype;else{var o=t-e;r=new i(o,void 0);for(var a=0;a<o;++a)r[a]=this[a+e]}return r},i.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||P(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r},i.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||P(e,t,this.length);for(var r=this[e+--t],o=1;t>0&&(o*=256);)r+=this[e+--t]*o;return r},i.prototype.readUInt8=function(e,t){return t||P(e,1,this.length),this[e]},i.prototype.readUInt16LE=function(e,t){return t||P(e,2,this.length),this[e]|this[e+1]<<8},i.prototype.readUInt16BE=function(e,t){return t||P(e,2,this.length),this[e]<<8|this[e+1]},i.prototype.readUInt32LE=function(e,t){return t||P(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},i.prototype.readUInt32BE=function(e,t){return t||P(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},i.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||P(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return o*=128,r>=o&&(r-=Math.pow(2,8*t)),r},i.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||P(e,t,this.length);for(var r=t,o=1,i=this[e+--r];r>0&&(o*=256);)i+=this[e+--r]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*t)),i},i.prototype.readInt8=function(e,t){return t||P(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},i.prototype.readInt16LE=function(e,t){t||P(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},i.prototype.readInt16BE=function(e,t){t||P(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},i.prototype.readInt32LE=function(e,t){return t||P(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},i.prototype.readInt32BE=function(e,t){return t||P(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},i.prototype.readFloatLE=function(e,t){return t||P(e,4,this.length),J.read(this,e,!0,23,4)},i.prototype.readFloatBE=function(e,t){return t||P(e,4,this.length),J.read(this,e,!1,23,4)},i.prototype.readDoubleLE=function(e,t){return t||P(e,8,this.length),J.read(this,e,!0,52,8)},i.prototype.readDoubleBE=function(e,t){return t||P(e,8,this.length),J.read(this,e,!1,52,8)},i.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t|=0,n|=0,!r){D(this,e,t,n,Math.pow(2,8*n)-1,0)}var o=1,i=0;for(this[t]=255&e;++i<n&&(o*=256);)this[t+i]=e/o&255;return t+n},i.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t|=0,n|=0,!r){D(this,e,t,n,Math.pow(2,8*n)-1,0)}var o=n-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+n},i.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,1,255,0),i.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},i.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,2,65535,0),i.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):B(this,e,t,!0),t+2},i.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,2,65535,0),i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):B(this,e,t,!1),t+2},i.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,4,4294967295,0),i.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):M(this,e,t,!0),t+4},i.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,4,4294967295,0),i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):M(this,e,t,!1),t+4},i.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);D(this,e,t,n,o-1,-o)}var i=0,a=1,s=0;for(this[t]=255&e;++i<n&&(a*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+n},i.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);D(this,e,t,n,o-1,-o)}var i=n-1,a=1,s=0;for(this[t+i]=255&e;--i>=0&&(a*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+n},i.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,1,127,-128),i.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},i.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,2,32767,-32768),i.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):B(this,e,t,!0),t+2},i.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,2,32767,-32768),i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):B(this,e,t,!1),t+2},i.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,4,2147483647,-2147483648),i.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):M(this,e,t,!0),t+4},i.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):M(this,e,t,!1),t+4},i.prototype.writeFloatLE=function(e,t,n){return U(this,e,t,!0,n)},i.prototype.writeFloatBE=function(e,t,n){return U(this,e,t,!1,n)},i.prototype.writeDoubleLE=function(e,t,n){return I(this,e,t,!0,n)},i.prototype.writeDoubleBE=function(e,t,n){return I(this,e,t,!1,n)},i.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var o,a=r-n;if(this===e&&n<t&&t<r)for(o=a-1;o>=0;--o)e[o+t]=this[o+n];else if(a<1e3||!i.TYPED_ARRAY_SUPPORT)for(o=0;o<a;++o)e[o+t]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+a),t);return a},i.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var o=e.charCodeAt(0);o<256&&(e=o)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!i.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0);var a;if("number"==typeof e)for(a=t;a<n;++a)this[a]=e;else{var s=i.isBuffer(e)?e:z(new i(e,r).toString()),u=s.length;for(a=0;a<n-t;++a)this[a+t]=s[a%u]}return this};var ee=/[^+\/0-9A-Za-z-_]/g}).call(t,n(16))},function(e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(e){return"function"==typeof e}function o(e){return"number"==typeof e}function i(e){return"object"==typeof e&&null!==e}function a(e){return void 0===e}e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if(!o(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,o,s,u,f;if(this._events||(this._events={}),"error"===e&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var c=new Error('Uncaught, unspecified "error" event. ('+t+")");throw c.context=t,c}if(n=this._events[e],a(n))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),n.apply(this,s)}else if(i(n))for(s=Array.prototype.slice.call(arguments,1),f=n.slice(),o=f.length,u=0;u<o;u++)f[u].apply(this,s);return!0},n.prototype.addListener=function(e,t){var o;if(!r(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,r(t.listener)?t.listener:t),this._events[e]?i(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,i(this._events[e])&&!this._events[e].warned&&(o=a(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&o>0&&this._events[e].length>o&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){function n(){this.removeListener(e,n),o||(o=!0,t.apply(this,arguments))}if(!r(t))throw TypeError("listener must be a function");var o=!1;return n.listener=t,this.on(e,n),this},n.prototype.removeListener=function(e,t){var n,o,a,s;if(!r(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],a=n.length,o=-1,n===t||r(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(i(n)){for(s=a;s-- >0;)if(n[s]===t||n[s].listener&&n[s].listener===t){o=s;break}if(o<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(o,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],r(n))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){return this._events&&this._events[e]?r(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(r(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t,n){"use strict";function r(e,t,n,r){if(void 0===t&&(t=e),void 0===n&&(n="analysis"),void 0===r&&(r=c.UNKNOWN),void 0===c[r])throw Error("Unknown status '"+r+"' for node "+t+"(id="+e+")");this.id=e,this.name=t,this.isMulti=n.search(/_multi$/)>=0,this.type=this.isMulti?n.substr(0,n.length-f.length):n,this.status=r}function o(e,t,n,r,o,i){var a=this;if(this.id="link_"+e+"_"+t,"string"==typeof n){this.name=n,this.vars={};this.name.split(",").forEach(function(e,t){return a.vars[t]=e.trim()})}else{this.vars=n;var s=[];for(var u in this.vars)this.vars.hasOwnProperty(u)&&s.push(this.vars[u]);this.name=s.join(", ")}this.row=r,this.col=o,this.iotype=r<o?"in":"out",this.isMulti=i}function i(e,t,n){this.nodes=[new r(s,u,"driver")],n&&(this.nodes=[]),this.edges=[],this.chains=[],this.refname=t||"";var o=i.number(e.workflow),a=o.toNum;this.nodesByStep=o.toNode,e.nodes.forEach(function(e){var t=a[e.id];this.nodes.push(new r(e.id,t?t+":"+e.name:e.name,e.type,e.status))},this),this.uid=this.nodes[0].id,e.edges&&e.edges.forEach(function(e){this.addEdge(e.from,e.to,e.vars?e.vars:e.name)},this),e.workflow&&this._makeChaining(e.workflow)}function a(e){var t,n=[];return e.forEach(function(e){if(e instanceof Array){if(e[0].hasOwnProperty("parallel")){if(!t)throw new Error("Bad workflow structure : cannot parallel loop without previous starting point.");n=n.slice(0,n.length-1).concat(e[0].parallel.map(function(e){return[t].concat(a([e]),t)}))}else n=t?n.concat(a(e),t):n.concat(a(e));t=n[n.length-1]}else if(e.hasOwnProperty("parallel"))n=t?n.slice(0,n.length-1).concat(e.parallel.map(function(e){return[t].concat(a([e]))})):n.concat(e.parallel.map(function(e){return a([e])})),t=void 0;else{for(var r=n.length-1,o=!1;r>=0&&n[r]instanceof Array;)n[r]=n[r].concat(e),r-=1,o=!0;o||n.push(e),t=e}}),n}var s="_U_",u="User",f="_multi",c={UNKNOWN:"UNKNOWN",PENDING:"PENDING",RUNNING:"RUNNING",DONE:"DONE",FAILED:"FAILED"};r.prototype.isMdo=function(){return"mdo"===this.type},r.prototype.getScenarioId=function(){if(this.isMdo()){var e=this.name.indexOf("_scn-");return-1===e?(console.log("Warning: MDO Scenario not found. Bad type or name for node: "+JSON.stringify(this)),null):this.name.substr(e+1)}return null},o.prototype.addVar=function(e){if("string"==typeof e)""===this.name?this.name=e:this.name+=", "+e,this.vars[this.vars.length]=e;else for(var t in e)if(e.hasOwnProperty(t)){this.vars[t]=e[t];var n=[];for(var r in this.vars)this.vars.hasOwnProperty(r)&&n.push(this.vars[r]);this.name=n.join(", ")}},o.prototype.removeVar=function(e){var t=!1;for(var n in this.vars)n===e&&(this.vars.delete(n),t=!0);if(!t){var r={};for(var o in this.vars)this.vars[o]===e?t=!0:r[o]=this.vars[o];this.vars=r}if(t){var i=[];for(var a in this.vars)this.vars.hasOwnProperty(a)&&i.push(this.vars[a]);this.name=i.join(", ")}},i.NODE_STATUS=c,i.prototype._makeChaining=function(e){i.expand(e).forEach(function(e){if(e.length<2)throw new Error("Bad process chain ("+e.length+"elt)");this.chains.push([]);var t=this.nodes.map(function(e){return e.id});e.forEach(function(n,r){if(0!==r){var o=t.indexOf(e[r-1]);if(o<0)throw new Error("Process chain element ("+e[r-1]+") not found");var i=t.indexOf(e[r]);if(i<0)throw new Error("Process chain element ("+e[r]+") not found");o!==i&&this.chains[this.chains.length-1].push([o,i])}},this)},this)},i.prototype.idxOf=function(e){var t=this.nodes.map(function(e){return e.id}).indexOf(e);if(t<0)throw new Error("Graph.idxOf: "+e+" not found in "+JSON.stringify(this.nodes));return t},i.prototype.getNode=function(e){var t;return this.nodes.forEach(function(n){n.id===e&&(t=n)},this),t},i.prototype.getNodeFromIndex=function(e){if(!(e>=0&&e<this.nodes.length))throw new Error("Index out of range : "+e+" not in [0, "+(this.nodes.length-1)+"]");return this.nodes[e]},i.prototype.addNode=function(e){this.nodes.push(new r(e.id,e.name,e.kind))},i.prototype.removeNode=function(e){var t=this,n=this.findEdgesOf(e);n.toRemove.forEach(function(e){var n=t.edges.indexOf(e);n>-1&&t.edges.splice(n,1)},this),n.toShift.forEach(function(e){e.row>1&&(e.row-=1),e.col>1&&(e.col-=1)},this),this.nodes.splice(e,1)},i.prototype.moveLeft=function(e){if(e>1){var t=this.nodes[e-1];this.nodes[e-1]=this.nodes[e],this.nodes[e]=t}},i.prototype.moveRight=function(e){if(e<this.nodes.length-1){var t=this.nodes[e+1];this.nodes[e+1]=this.nodes[e],this.nodes[e]=t}},i.prototype.addEdge=function(e,t,n){var r=this.idxOf(e),i=this.idxOf(t),a=this.nodes[r].isMulti||this.nodes[i].isMulti;this.edges.push(new o(e,t,n,r,i,a))},i.prototype.removeEdge=function(e,t){var n=this.findEdge(e,t);this.edges.splice(n.index,1)},i.prototype.addEdgeVar=function(e,t,n){var r=this.findEdge(e,t).element;r?(console.log(n),r.addVar(n)):this.addEdge(e,t,n)},i.prototype.removeEdgeVar=function(e,t,n){var r=this.findEdge(e,t),o=r.element,i=r.index;o&&o.removeVar(n),""===o.name&&this.edges.splice(i,1)},i.prototype.findEdgesOf=function(e){var t=[],n=[];return this.edges.forEach(function(r){r.row===e||r.col===e?t.push(r):(r.row>e||r.col>e)&&n.push(r)},this),{toRemove:t,toShift:n}},i.prototype.findEdge=function(e,t){var n=void 0,r=-1,o=this.idxOf(e),i=this.idxOf(t);return this.edges.some(function(e,t){if(e.row===o&&e.col===i){if(n)throw Error("edge have be uniq between two nodes, but got: "+JSON.stringify(n)+" and "+JSON.stringify(e));return n=e,r=t,!0}},this),{element:n,index:r}},i._isPatchNeeded=function(e){for(var t=e.map(function(e){return e[e.length-1]}),n=t[0],r=0;r<t.length;r++)if(t[r]!==n)return!0;return!1},i._patchParallel=function(e){var t=[];e.forEach(function(e){e instanceof Array?t.push(e):i._isPatchNeeded(t)&&t.forEach(function(t){t.push(e)},this)},this)},i.expand=function(e){var t=a(e),n=[],r=[];return i._patchParallel(t),t.forEach(function(e){if(e instanceof Array)r.length>0&&(r.push(e[0]),n.push(r),r=[]),n.push(e);else{if(n.length>0&&0===r.length){var t=n[n.length-1],o=t[t.length-1];r.push(o)}r.push(e)}},this),r.length>0&&n.push(r),n},i.number=function(e,t){function n(e,t){e in a?a[e].push(t):a[e]=[t]}function r(e,r,o){void 0===o?(t=String(r),n(r,e)):(t=o+"-"+r,n(o,e)),e in i?i[e]+=","+t:i[e]=t}function o(e,t){var n=0;if(e instanceof Array)if(0===e.length)n=t;else if(1===e.length)n=o(e[0],t);else{var i=e[0],a=e.slice(1),s=o(i,t);if(a[0]instanceof Array){var u=o(a[0],s);r(i,s,u),s=u+1,a.shift()}n=o(a,s)}else if(e instanceof Object&&"parallel"in e){var f=e.parallel.map(function(e){return o(e,t)});n=Math.max.apply(null,f)}else r(e,t),n=t+1;return n}t=void 0===t?0:t;var i={},a=[];return o(e,t),{toNum:i,toNode:a}},e.exports=i},function(e,t,n){(function(e){function n(e){return Array.isArray?Array.isArray(e):"[object Array]"===v(e)}function r(e){return"boolean"==typeof e}function o(e){return null===e}function i(e){return null==e}function a(e){return"number"==typeof e}function s(e){return"string"==typeof e}function u(e){return"symbol"==typeof e}function f(e){return void 0===e}function c(e){return"[object RegExp]"===v(e)}function d(e){return"object"==typeof e&&null!==e}function l(e){return"[object Date]"===v(e)}function p(e){return"[object Error]"===v(e)||e instanceof Error}function h(e){return"function"==typeof e}function g(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e}function v(e){return Object.prototype.toString.call(e)}t.isArray=n,t.isBoolean=r,t.isNull=o,t.isNullOrUndefined=i,t.isNumber=a,t.isString=s,t.isSymbol=u,t.isUndefined=f,t.isRegExp=c,t.isObject=d,t.isDate=l,t.isError=p,t.isFunction=h,t.isPrimitive=g,t.isBuffer=e.isBuffer}).call(t,n(3).Buffer)},function(e,t,n){var r=n(46);e.exports=Function.prototype.bind||r},function(e,t,n){function r(e,t){this._id=e,this._clearFn=t}var o=Function.prototype.apply;t.setTimeout=function(){return new r(o.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new r(o.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(60),t.setImmediate=setImmediate,t.clearImmediate=clearImmediate},,function(e,t,n){function r(){o.call(this)}e.exports=r;var o=n(4).EventEmitter;n(1)(r,o),r.Readable=n(56),r.Writable=n(58),r.Duplex=n(54),r.Transform=n(57),r.PassThrough=n(55),r.Stream=r,r.prototype.pipe=function(e,t){function n(t){e.writable&&!1===e.write(t)&&f.pause&&f.pause()}function r(){f.readable&&f.resume&&f.resume()}function i(){c||(c=!0,e.end())}function a(){c||(c=!0,"function"==typeof e.destroy&&e.destroy())}function s(e){if(u(),0===o.listenerCount(this,"error"))throw e}function u(){f.removeListener("data",n),e.removeListener("drain",r),f.removeListener("end",i),f.removeListener("close",a),f.removeListener("error",s),e.removeListener("error",s),f.removeListener("end",u),f.removeListener("close",u),e.removeListener("close",u)}var f=this;f.on("data",n),e.on("drain",r),e._isStdio||t&&!1===t.end||(f.on("end",i),f.on("close",a));var c=!1;return f.on("error",s),e.on("error",s),f.on("end",u),f.on("close",u),e.on("close",u),e.emit("pipe",f),e}},function(e,t,n){(function(r){function o(e,t,n){function o(){for(;f.length&&!d.paused;){var e=f.shift();if(null===e)return d.emit("end");d.emit("data",e)}}function a(){d.writable=!1,t.call(d),!d.readable&&d.autoDestroy&&d.destroy()}e=e||function(e){this.queue(e)},t=t||function(){this.queue(null)};var s=!1,u=!1,f=[],c=!1,d=new i;return d.readable=d.writable=!0,d.paused=!1,d.autoDestroy=!(n&&!1===n.autoDestroy),d.write=function(t){return e.call(this,t),!d.paused},d.queue=d.push=function(e){return c?d:(null===e&&(c=!0),f.push(e),o(),d)},d.on("end",function(){d.readable=!1,!d.writable&&d.autoDestroy&&r.nextTick(function(){d.destroy()})}),d.end=function(e){if(!s)return s=!0,arguments.length&&d.write(e),a(),d},d.destroy=function(){if(!u)return u=!0,s=!0,f.length=0,d.writable=d.readable=!1,d.emit("close"),d},d.pause=function(){if(!d.paused)return d.paused=!0,d},d.resume=function(){return d.paused&&(d.paused=!1,d.emit("resume")),o(),d.paused||d.emit("drain"),d},d}var i=n(10);t=e.exports=o,o.through=o}).call(t,n(0))},function(e,t,n){"use strict";function r(){}r.strParse=function(e){if(""===e)return[{base:"",sub:void 0,sup:void 0}];return e.split(",").map(function(e){var t,n,r;if((e.match(/_/g)||[]).length>1){var o=e.match(/(.+)\^(.+)/);return o?{base:o[1],sub:void 0,sup:o[2]}:{base:e,sub:void 0,sup:void 0}}var i=e.match(/([0-9\-]+:)?([A-Za-z0-9\-\.]+)(_[A-Za-z0-9\-\._]+)?(\^.+)?/);if(!i)throw new Error("Labelizer.strParse: Can not parse '"+e+"'");return t=(i[1]?i[1]:"")+i[2],i[3]&&(n=i[3].substring(1)),i[4]&&(r=i[4].substring(1)),{base:t,sub:n,sup:r}},this)},r._createVarListLabel=function(e,t,n,o){r.strParse(t).every(function(t,r,i){var a=0,s=0;return o<1||r<5&&n.nodes()[0].getBBox().width<100?(n.append("tspan").text(t.base),t.sub&&(a=10,n.append("tspan").attr("class","sub").attr("dy",a).text(t.sub)),t.sup&&(s=-10,n.append("tspan").attr("class","sup").attr("dx",-5).attr("dy",-a+s).text(t.sup),a=0),r<i.length-1&&n.append("tspan").attr("dy",-a-s).text(", "),!0):(n.append("tspan").attr("dy",-a-s).text("..."),e.classed("ellipsized",!0),!1)},this)},r._createLinkNbLabel=function(e,t,n){var r=t.split(","),o=r.length+" var";r.length>1&&(o+="s"),n.append("tspan").text(o),e.classed("ellipsized",!0)},r.labelize=function(){function e(e){e.each(function(n){var a=e.append("text");o&&"node"!==i?r._createLinkNbLabel(e,n.name,a):r._createVarListLabel(e,n.name,a,t)})}var t=0,n=!0,o=!1,i="node";return e.ellipsis=function(n){return arguments.length?(t=n,e):t},e.subSupScript=function(t){return arguments.length?(n=t,e):n},e.linkNbOnly=function(t){return arguments.length?(o=t,e):o},e.labelKind=function(t){return arguments.length?(i=t,e):i},e},r.tooltipize=function(){function e(e){var o=[];if(n){r.strParse(t).forEach(function(e){var t=e.base;e.sub&&(t+="<sub>"+e.sub+"</sub>"),e.sup&&(t+="<sup>"+e.sup+"</sup>"),o.push(t)})}else o=t.split(",");e.html(o.join(", "))}var t="",n=!1;return e.text=function(n){return arguments.length?(t=n,e):t},e.subSupScript=function(t){return arguments.length?(n=t,e):n},e},e.exports=r},function(e,t,n){"use strict";(function(t){function n(e,n,r,o){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var i,a,s=arguments.length;switch(s){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick(function(){e.call(null,n)});case 3:return t.nextTick(function(){e.call(null,n,r)});case 4:return t.nextTick(function(){e.call(null,n,r,o)});default:for(i=new Array(s-1),a=0;a<i.length;)i[a++]=arguments[a];return t.nextTick(function(){e.apply(null,i)})}}!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports=n:e.exports=t.nextTick}).call(t,n(0))},function(e,t,n){"use strict";function r(e){this.afterTransform=function(t,n){return o(e,t,n)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function o(e,t,n){var r=e._transformState;r.transforming=!1;var o=r.writecb;if(!o)return e.emit("error",new Error("no writecb in Transform class"));r.writechunk=null,r.writecb=null,null!==n&&void 0!==n&&e.push(n),o(t);var i=e._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&e._read(i.highWaterMark)}function i(e){if(!(this instanceof i))return new i(e);s.call(this,e),this._transformState=new r(this);var t=this;this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.once("prefinish",function(){"function"==typeof this._flush?this._flush(function(e){a(t,e)}):a(t)})}function a(e,t){if(t)return e.emit("error",t);var n=e._writableState,r=e._transformState;if(n.length)throw new Error("calling transform done when ws.length != 0");if(r.transforming)throw new Error("calling transform done when still transforming");return e.push(null)}e.exports=i;var s=n(2),u=n(6);u.inherits=n(1),u.inherits(i,s),i.prototype.push=function(e,t){return this._transformState.needTransform=!1,s.prototype.push.call(this,e,t)},i.prototype._transform=function(e,t,n){throw new Error("not implemented")},i.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var o=this._readableState;(r.needTransform||o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}},i.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0}},function(e,t,n){"use strict";(function(t,r){function o(){}function i(e,t,n){this.chunk=e,this.encoding=t,this.callback=n,this.next=null}function a(e,t){q=q||n(2),e=e||{},this.objectMode=!!e.objectMode,t instanceof q&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var r=e.highWaterMark,o=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:o,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var i=!1===e.decodeStrings;this.decodeStrings=!i,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){g(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new x(this),this.corkedRequestsFree.next=new x(this)}function s(e){if(q=q||n(2),!(this instanceof s||this instanceof q))return new s(e);this._writableState=new a(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev)),k.call(this)}function u(e,t){var n=new Error("write after end");e.emit("error",n),S(t,n)}function f(e,t,n,r){var o=!0;if(!O.isBuffer(n)&&"string"!=typeof n&&null!==n&&void 0!==n&&!t.objectMode){var i=new TypeError("Invalid non-string/buffer chunk");e.emit("error",i),S(r,i),o=!1}return o}function c(e,t,n){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=new O(t,n)),t}function d(e,t,n,r,o){n=c(t,n,r),O.isBuffer(n)&&(r="buffer");var a=t.objectMode?1:n.length;t.length+=a;var s=t.length<t.highWaterMark;if(s||(t.needDrain=!0),t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest=new i(n,r,o),u?u.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else l(e,t,!1,a,n,r,o);return s}function l(e,t,n,r,o,i,a){t.writelen=r,t.writecb=a,t.writing=!0,t.sync=!0,n?e._writev(o,t.onwrite):e._write(o,i,t.onwrite),t.sync=!1}function p(e,t,n,r,o){--t.pendingcb,n?S(o,r):o(r),e._writableState.errorEmitted=!0,e.emit("error",r)}function h(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function g(e,t){var n=e._writableState,r=n.sync,o=n.writecb;if(h(n),t)p(e,n,r,t,o);else{var i=b(n);i||n.corked||n.bufferProcessing||!n.bufferedRequest||y(e,n),r?A(v,e,n,i,o):v(e,n,i,o)}}function v(e,t,n,r){n||m(e,t),t.pendingcb--,r(),_(e,t)}function m(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function y(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,o=new Array(r),i=t.corkedRequestsFree;i.entry=n;for(var a=0;n;)o[a]=n,n=n.next,a+=1;l(e,t,!0,t.length,o,"",i.finish),t.pendingcb++,t.lastBufferedRequest=null,t.corkedRequestsFree=i.next,i.next=null}else{for(;n;){var s=n.chunk,u=n.encoding,f=n.callback;if(l(e,t,!1,t.objectMode?1:s.length,s,u,f),n=n.next,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequestCount=0,t.bufferedRequest=n,t.bufferProcessing=!1}function b(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function w(e,t){t.prefinished||(t.prefinished=!0,e.emit("prefinish"))}function _(e,t){var n=b(t);return n&&(0===t.pendingcb?(w(e,t),t.finished=!0,e.emit("finish")):w(e,t)),n}function E(e,t,n){t.ending=!0,_(e,t),n&&(t.finished?S(n):e.once("finish",n)),t.ended=!0,e.writable=!1}function x(e){var t=this;this.next=null,this.entry=null,this.finish=function(n){var r=t.entry;for(t.entry=null;r;){var o=r.callback;e.pendingcb--,o(n),r=r.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}}e.exports=s;var S=n(13),A=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?r:S,O=n(3).Buffer;s.WritableState=a;var T=n(6);T.inherits=n(1);var k,R={deprecate:n(66)};!function(){try{k=n(10)}catch(e){}finally{k||(k=n(4).EventEmitter)}}();var O=n(3).Buffer;T.inherits(s,k);var q;a.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(a.prototype,"buffer",{get:R.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")})}catch(e){}}();var q;s.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))},s.prototype.write=function(e,t,n){var r=this._writableState,i=!1;return"function"==typeof t&&(n=t,t=null),O.isBuffer(e)?t="buffer":t||(t=r.defaultEncoding),"function"!=typeof n&&(n=o),r.ended?u(this,n):f(this,r,e,n)&&(r.pendingcb++,i=d(this,r,e,t,n)),i},s.prototype.cork=function(){this._writableState.corked++},s.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||y(this,e))},s.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);this._writableState.defaultEncoding=e},s.prototype._write=function(e,t,n){n(new Error("not implemented"))},s.prototype._writev=null,s.prototype.end=function(e,t,n){var r=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!==e&&void 0!==e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||E(this,r,n)}}).call(t,n(0),n(8).setImmediate)},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},,function(e,t,n){"use strict";var r=n(51),o=n(45),i="function"==typeof Symbol&&"symbol"==typeof Symbol(),a=Object.prototype.toString,s=function(e){return"function"==typeof e&&"[object Function]"===a.call(e)},u=Object.defineProperty&&function(){var e={};try{Object.defineProperty(e,"x",{enumerable:!1,value:e});for(var t in e)return!1;return e.x===e}catch(e){return!1}}(),f=function(e,t,n,r){(!(t in e)||s(r)&&r())&&(u?Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n,writable:!0}):e[t]=n)},c=function(e,t){var n=arguments.length>2?arguments[2]:{},a=r(t);i&&(a=a.concat(Object.getOwnPropertySymbols(t))),o(a,function(r){f(e,r,t[r],n[r])})};c.supportsDescriptors=!!u,e.exports=c},function(e,t,n){var r=n(7);e.exports=r.call(Function.call,Object.prototype.hasOwnProperty)},function(e,t,n){"use strict";var r=Function.prototype.toString,o=/^\s*class /,i=function(e){try{var t=r.call(e),n=t.replace(/\/\/.*\n/g,""),i=n.replace(/\/\*[.\s\S]*\*\//g,""),a=i.replace(/\n/gm," ").replace(/ {2}/g," ");return o.test(a)}catch(e){return!1}},a=function(e){try{return!i(e)&&(r.call(e),!0)}catch(e){return!1}},s=Object.prototype.toString,u="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;e.exports=function(e){if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;if(u)return a(e);if(i(e))return!1;var t=s.call(e);return"[object Function]"===t||"[object GeneratorFunction]"===t}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){"use strict";function r(e){if(!(this instanceof r))return new r(e);o.call(this,e)}e.exports=r;var o=n(14),i=n(6);i.inherits=n(1),i.inherits(r,o),r.prototype._transform=function(e,t,n){n(null,e)}},function(e,t,n){"use strict";(function(t){function r(e,t){P=P||n(2),e=e||{},this.objectMode=!!e.objectMode,t instanceof P&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var r=e.highWaterMark,o=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:o,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(L||(L=n(26).StringDecoder),this.decoder=new L(e.encoding),this.encoding=e.encoding)}function o(e){if(P=P||n(2),!(this instanceof o))return new o(e);this._readableState=new r(e,this),this.readable=!0,e&&"function"==typeof e.read&&(this._read=e.read),k.call(this)}function i(e,t,n,r,o){var i=f(t,n);if(i)e.emit("error",i);else if(null===n)t.reading=!1,c(e,t);else if(t.objectMode||n&&n.length>0)if(t.ended&&!o){var s=new Error("stream.push() after EOF");e.emit("error",s)}else if(t.endEmitted&&o){var s=new Error("stream.unshift() after end event");e.emit("error",s)}else{var u;!t.decoder||o||r||(n=t.decoder.write(n),u=!t.objectMode&&0===n.length),o||(t.reading=!1),u||(t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,o?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&d(e))),p(e,t)}else o||(t.reading=!1);return a(t)}function a(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}function s(e){return e>=D?e=D:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function u(e,t){return 0===t.length&&t.ended?0:t.objectMode?0===e?0:1:null===e||isNaN(e)?t.flowing&&t.buffer.length?t.buffer[0].length:t.length:e<=0?0:(e>t.highWaterMark&&(t.highWaterMark=s(e)),e>t.length?t.ended?t.length:(t.needReadable=!0,0):e)}function f(e,t){var n=null;return T.isBuffer(t)||"string"==typeof t||null===t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}function c(e,t){if(!t.ended){if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,d(e)}}function d(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(N("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?A(l,e):l(e))}function l(e){N("emit readable"),e.emit("readable"),b(e)}function p(e,t){t.readingMore||(t.readingMore=!0,A(h,e,t))}function h(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(N("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function g(e){return function(){var t=e._readableState;N("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&R(e,"data")&&(t.flowing=!0,b(e))}}function v(e){N("readable nexttick read 0"),e.read(0)}function m(e,t){t.resumeScheduled||(t.resumeScheduled=!0,A(y,e,t))}function y(e,t){t.reading||(N("resume read 0"),e.read(0)),t.resumeScheduled=!1,e.emit("resume"),b(e),t.flowing&&!t.reading&&e.read(0)}function b(e){var t=e._readableState;if(N("flow",t.flowing),t.flowing)do{var n=e.read()}while(null!==n&&t.flowing)}function w(e,t){var n,r=t.buffer,o=t.length,i=!!t.decoder,a=!!t.objectMode;if(0===r.length)return null;if(0===o)n=null;else if(a)n=r.shift();else if(!e||e>=o)n=i?r.join(""):1===r.length?r[0]:T.concat(r,o),r.length=0;else if(e<r[0].length){var s=r[0];n=s.slice(0,e),r[0]=s.slice(e)}else if(e===r[0].length)n=r.shift();else{n=i?"":new T(e);for(var u=0,f=0,c=r.length;f<c&&u<e;f++){var s=r[0],d=Math.min(e-u,s.length);i?n+=s.slice(0,d):s.copy(n,u,0,d),d<s.length?r[0]=s.slice(d):r.shift(),u+=d}}return n}function _(e){var t=e._readableState;if(t.length>0)throw new Error("endReadable called on non-empty stream");t.endEmitted||(t.ended=!0,A(E,t,e))}function E(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function x(e,t){for(var n=0,r=e.length;n<r;n++)t(e[n],n)}function S(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}e.exports=o;var A=n(13),O=n(21),T=n(3).Buffer;o.ReadableState=r;var k,R=(n(4),function(e,t){return e.listeners(t).length});!function(){try{k=n(10)}catch(e){}finally{k||(k=n(4).EventEmitter)}}();var T=n(3).Buffer,q=n(6);q.inherits=n(1);var j=n(67),N=void 0;N=j&&j.debuglog?j.debuglog("stream"):function(){};var L;q.inherits(o,k);var P,P;o.prototype.push=function(e,t){var n=this._readableState;return n.objectMode||"string"!=typeof e||(t=t||n.defaultEncoding)!==n.encoding&&(e=new T(e,t),t=""),i(this,n,e,t,!1)},o.prototype.unshift=function(e){return i(this,this._readableState,e,"",!0)},o.prototype.isPaused=function(){return!1===this._readableState.flowing},o.prototype.setEncoding=function(e){return L||(L=n(26).StringDecoder),this._readableState.decoder=new L(e),this._readableState.encoding=e,this};var D=8388608;o.prototype.read=function(e){N("read",e);var t=this._readableState,n=e;if(("number"!=typeof e||e>0)&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return N("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?_(this):d(this),null;if(0===(e=u(e,t))&&t.ended)return 0===t.length&&_(this),null;var r=t.needReadable;N("need readable",r),(0===t.length||t.length-e<t.highWaterMark)&&(r=!0,N("length less than watermark",r)),(t.ended||t.reading)&&(r=!1,N("reading or ended",r)),r&&(N("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1),r&&!t.reading&&(e=u(n,t));var o;return o=e>0?w(e,t):null,null===o&&(t.needReadable=!0,e=0),t.length-=e,0!==t.length||t.ended||(t.needReadable=!0),n!==e&&t.ended&&0===t.length&&_(this),null!==o&&this.emit("data",o),o},o.prototype._read=function(e){this.emit("error",new Error("not implemented"))},o.prototype.pipe=function(e,n){function r(e){N("onunpipe"),e===d&&i()}function o(){N("onend"),e.end()}function i(){N("cleanup"),e.removeListener("close",u),e.removeListener("finish",f),e.removeListener("drain",v),e.removeListener("error",s),e.removeListener("unpipe",r),d.removeListener("end",o),d.removeListener("end",i),d.removeListener("data",a),m=!0,!l.awaitDrain||e._writableState&&!e._writableState.needDrain||v()}function a(t){N("ondata"),!1===e.write(t)&&(1!==l.pipesCount||l.pipes[0]!==e||1!==d.listenerCount("data")||m||(N("false write response, pause",d._readableState.awaitDrain),d._readableState.awaitDrain++),d.pause())}function s(t){N("onerror",t),c(),e.removeListener("error",s),0===R(e,"error")&&e.emit("error",t)}function u(){e.removeListener("finish",f),c()}function f(){N("onfinish"),e.removeListener("close",u),c()}function c(){N("unpipe"),d.unpipe(e)}var d=this,l=this._readableState;switch(l.pipesCount){case 0:l.pipes=e;break;case 1:l.pipes=[l.pipes,e];break;default:l.pipes.push(e)}l.pipesCount+=1,N("pipe count=%d opts=%j",l.pipesCount,n);var p=(!n||!1!==n.end)&&e!==t.stdout&&e!==t.stderr,h=p?o:i;l.endEmitted?A(h):d.once("end",h),e.on("unpipe",r);var v=g(d);e.on("drain",v);var m=!1;return d.on("data",a),e._events&&e._events.error?O(e._events.error)?e._events.error.unshift(s):e._events.error=[s,e._events.error]:e.on("error",s),e.once("close",u),e.once("finish",f),e.emit("pipe",d),l.flowing||(N("pipe resume"),d.resume()),e},o.prototype.unpipe=function(e){var t=this._readableState;if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this),this);if(!e){var n=t.pipes,r=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<r;o++)n[o].emit("unpipe",this);return this}var i=S(t.pipes,e);return-1===i?this:(t.pipes.splice(i,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this),this)},o.prototype.on=function(e,t){var n=k.prototype.on.call(this,e,t);if("data"===e&&!1!==this._readableState.flowing&&this.resume(),"readable"===e&&!this._readableState.endEmitted){var r=this._readableState;r.readableListening||(r.readableListening=!0,r.emittedReadable=!1,r.needReadable=!0,r.reading?r.length&&d(this):A(v,this))}return n},o.prototype.addListener=o.prototype.on,o.prototype.resume=function(){var e=this._readableState;return e.flowing||(N("resume"),e.flowing=!0,m(this,e)),this},o.prototype.pause=function(){return N("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(N("pause"),this._readableState.flowing=!1,this.emit("pause")),this},o.prototype.wrap=function(e){var t=this._readableState,n=!1,r=this;e.on("end",function(){if(N("wrapped end"),t.decoder&&!t.ended){var e=t.decoder.end();e&&e.length&&r.push(e)}r.push(null)}),e.on("data",function(o){if(N("wrapped data"),t.decoder&&(o=t.decoder.write(o)),(!t.objectMode||null!==o&&void 0!==o)&&(t.objectMode||o&&o.length)){r.push(o)||(n=!0,e.pause())}});for(var o in e)void 0===this[o]&&"function"==typeof e[o]&&(this[o]=function(t){return function(){return e[t].apply(e,arguments)}}(o));return x(["error","close","destroy","pause","resume"],function(t){e.on(t,r.emit.bind(r,t))}),r._read=function(t){N("wrapped _read",t),n&&(n=!1,e.resume())},r},o._fromList=w}).call(t,n(0))},function(e,t,n){"use strict";var r=n(7),o=n(37),i=r.call(Function.call,String.prototype.replace);e.exports=function(){var e=o.ToString(o.CheckObjectCoercible(this));return i(i(e,/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/,""),/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/,"")}},function(e,t,n){"use strict";var r=n(24),o="​";e.exports=function(){return String.prototype.trim&&o.trim()===o?String.prototype.trim:r}},function(e,t,n){function r(e){if(e&&!u(e))throw new Error("Unknown encoding: "+e)}function o(e){return e.toString(this.encoding)}function i(e){this.charReceived=e.length%2,this.charLength=this.charReceived?2:0}function a(e){this.charReceived=e.length%3,this.charLength=this.charReceived?3:0}var s=n(3).Buffer,u=s.isEncoding||function(e){switch(e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},f=t.StringDecoder=function(e){switch(this.encoding=(e||"utf8").toLowerCase().replace(/[-_]/,""),r(e),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=i;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=a;break;default:return void(this.write=o)}this.charBuffer=new s(6),this.charReceived=0,this.charLength=0};f.prototype.write=function(e){for(var t="";this.charLength;){var n=e.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:e.length;if(e.copy(this.charBuffer,this.charReceived,0,n),this.charReceived+=n,this.charReceived<this.charLength)return"";e=e.slice(n,e.length),t=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var r=t.charCodeAt(t.length-1);if(!(r>=55296&&r<=56319)){if(this.charReceived=this.charLength=0,0===e.length)return t;break}this.charLength+=this.surrogateSize,t=""}this.detectIncompleteChar(e);var o=e.length;this.charLength&&(e.copy(this.charBuffer,0,e.length-this.charReceived,o),o-=this.charReceived),t+=e.toString(this.encoding,0,o);var o=t.length-1,r=t.charCodeAt(o);if(r>=55296&&r<=56319){var i=this.surrogateSize;return this.charLength+=i,this.charReceived+=i,this.charBuffer.copy(this.charBuffer,i,0,i),e.copy(this.charBuffer,0,0,i),t.substring(0,o)}return t},f.prototype.detectIncompleteChar=function(e){for(var t=e.length>=3?3:e.length;t>0;t--){var n=e[e.length-t];if(1==t&&n>>5==6){this.charLength=2;break}if(t<=2&&n>>4==14){this.charLength=3;break}if(t<=3&&n>>3==30){this.charLength=4;break}}this.charReceived=t},f.prototype.end=function(e){var t="";if(e&&e.length&&(t=this.write(e)),this.charReceived){var n=this.charReceived,r=this.charBuffer,o=this.encoding;t+=r.slice(0,n).toString(o)}return t}},function(e,t){e.exports=function(){for(var e=0;e<arguments.length;e++)if(void 0!==arguments[e])return arguments[e]}},,,function(e,t,n){(function(r,o){function i(e){e||(e={});var t=a({autoclose:s(e.autoclose,!1)}),n=t.createStream({objectMode:e.objectMode}),o=n.pipe(e.stream||u());l&&o.on("error",function(e){t._exitCode=1});var i=!1;if(n.on("end",function(){i=!0}),!1===e.exit)return t;if(!l||!p)return t;return r.on("exit",function(e){if(0===e){if(!i)for(var n=t._results._only,o=0;o<t._tests.length;o++){var a=t._tests[o];n&&a!==n||a._exit()}t.close(),r.exit(e||t._exitCode)}}),t}function a(e){e||(e={});var t=c();!1!==e.autoclose&&t.once("done",function(){t.close()});var n=function(e,r,o){var i=new f(e,r,o);return n._tests.push(i),function e(t){t.on("test",function(t){e(t)}),t.on("result",function(e){e.ok||"string"==typeof e||(n._exitCode=1)})}(i),t.push(i),i};n._results=t,n._tests=[],n.createStream=function(e){return t.createStream(e)},n.onFinish=function(e){t.on("done",e)};var r=!1;return n.only=function(){if(r)throw new Error("there can only be one only test");r=!0;var e=n.apply(null,arguments);return t.only(e),e},n._exitCode=0,n.close=function(){t.close()},n}var s=n(27),u=n(63),f=n(65),c=n(64),d=n(11),l=void 0!==r&&r&&"function"==typeof r.on&&!0!==r.browser,p=void 0!==r&&r&&"function"==typeof r.exit;void 0!==o||r.nextTick;t=e.exports=function(){function e(e){return e||(e={}),e.autoclose=!l,t||(t=i(e)),t}var t,n=function(){return e().apply(this,arguments)};return n.only=function(){return e().only.apply(this,arguments)},n.createStream=function(n){if(n||(n={}),!t){var r=d();return e({stream:r,objectMode:n.objectMode}),r}return t.createStream(n)},n.onFinish=function(){return e().onFinish.apply(this,arguments)},n.getHarness=e,n}(),t.createHarness=a,t.Test=f,t.test=t,t.test.skip=f.skip}).call(t,n(0),n(8).setImmediate)},function(e,t,n){"use strict";function r(){var e={nodes:[{id:"A"},{id:"B"},{id:"C"},{id:"D"},{id:"E"}],edges:[{from:"A",to:"B",name:"a, b"},{from:"C",to:"A",name:"CA"},{from:"C",to:"B",name:"CB"},{from:"C",to:"D",name:"CD"},{from:"E",to:"A",name:"EA"}],workflow:[]};return new a.default(e)}function o(){var e={nodes:[{id:"A"},{id:"B"},{id:"C"},{id:"D"},{id:"E"}],edges:[{from:"A",to:"B",vars:{1:"a",2:"b"}},{from:"C",to:"A",vars:{1:"a",3:"c"}},{from:"C",to:"B",vars:{3:"c",2:"b"}},{from:"C",to:"D",vars:{3:"c",4:"d"}},{from:"E",to:"A",vars:{5:"e",1:"a"}}],workflow:[]};return new a.default(e)}var i=n(5),a=function(e){return e&&e.__esModule?e:{default:e}}(i),s=n(30),u=n(12);s("Labelizer.strParse('') returns [{'base':'', 'sub':undefined, 'sup':undefined}]",function(e){e.deepEqual(u.strParse(""),[{base:"",sub:void 0,sup:void 0}]),e.end()}),s("Labelizer.strParse('+A') throws an error",function(e){e.throws(function(){u.strParse("+")},"should throw an error"),e.end()}),s("Labelizer.strParse('ConvCheck') returns [{'base':'ConvCheck', 'sub':undefined, 'sup':undefined}]",function(e){e.deepEqual(u.strParse("ConvCheck"),[{base:"ConvCheck",sub:void 0,sup:void 0}]),e.end()}),s("Labelizer.strParse('x') returns [{'base':'x', 'sub':undefined, 'sup':undefined}]",function(e){e.deepEqual(u.strParse("x"),[{base:"x",sub:void 0,sup:void 0}]),e.end()}),s("Labelizer.strParse('Optimization') returns [{'base':'Optimization', 'sub':undefined, 'sup':undefined}]",function(e){e.deepEqual(u.strParse("Optimization"),[{base:"Optimization",sub:void 0,sup:void 0}]),e.end()}),s("Labelizer.strParse('x_12') returns [{'base':'x', 'sub': '12', 'sup':undefined}]",function(e){e.deepEqual(u.strParse("x_12"),[{base:"x",sub:"12",sup:void 0}]),e.end()}),s("Labelizer.strParse('x_13^{(0)}') returns [{'base':'x', 'sub': '13', 'sup': '{(0)}'}]",function(e){e.deepEqual(u.strParse("x_13^{(0)}"),[{base:"x",sub:"13",sup:"{(0)}"}]),e.end()}),s("Labelizer.strParse('x_13^0, y_1^{*}') returns [{'base':'x', 'sub': '13', 'sup': '{*}'},                                          {'base':'y', 'sub': '1', 'sup': '*'}]",function(e){e.deepEqual(u.strParse("x_13^{(0)}, y_1^{*}"),[{base:"x",sub:"13",sup:"{(0)}"},{base:"y",sub:"1",sup:"{*}"}]),e.end()}),s("Labelizer.strParse('1:Opt') returns [{'base':'1:Opt', 'sub':undefined, 'sup':undefined}]",function(e){e.deepEqual(u.strParse("1:Opt"),[{base:"1:Opt",sub:void 0,sup:void 0}]),e.end()}),s("Labelizer.strParse('1:L-BFGS-B') returns [{'base':'1:L-BFGS-B', 'sub':undefined, 'sup':undefined}]",function(e){e.deepEqual(u.strParse("1:L-BFGS-B"),[{base:"1:L-BFGS-B",sub:void 0,sup:void 0}]),e.end()}),s("Labelizer.strParse('y_12_y_34') returns [{'base':'y_12_y_34', 'sub':undefined, 'sup':undefined}]",function(e){e.deepEqual(u.strParse("y_12_y_34"),[{base:"y_12_y_34",sub:void 0,sup:void 0}]),e.end()}),s("Labelizer.strParse('y_12_y_34^*') returns [{'base':'y_12_y_34', 'sub':undefined, 'sup':'*'}]",function(e){e.deepEqual(u.strParse("y_12_y_34^*"),[{base:"y_12_y_34",sub:void 0,sup:"*"}]),e.end()}),s("Graph.expand(['a']) returns [['a']]",function(e){e.deepEqual(a.default.expand(["a"]),[["a"]]),e.end()}),s("Graph.expand([['a']]) returns [['a']]",function(e){e.deepEqual(a.default.expand([["a"]]),[["a"]]),e.end()}),s("Graph.expand(['a', 'b']) returns [['a', 'b']]",function(e){e.deepEqual(a.default.expand(["a","b"]),[["a","b"]]),e.end()}),s("Graph.expand([['a', 'b']]) returns [['a', 'b']]",function(e){e.deepEqual(a.default.expand([["a","b"]]),[["a","b"]]),e.end()}),s("Graph.expand(['a', ['b']]) returns [['a', 'b', 'a']]",function(e){e.deepEqual(a.default.expand(["a",["b"]]),[["a","b","a"]]),e.end()}),s("Graph.expand([['a'], 'b']) returns ['a', 'b']",function(e){e.deepEqual(a.default.expand([["a"],"b"]),[["a","b"]]),e.end()}),s("Graph.expand([['a'], 'b', 'c']) returns ['a', 'b', 'c']",function(e){e.deepEqual(a.default.expand([["a"],"b","c"]),[["a","b","c"]]),e.end()}),s("Graph.expand(['a', ['b'], 'c']) returns [['a', 'b', 'a', 'c']]",function(e){e.deepEqual(a.default.expand(["a",["b"],"c"]),[["a","b","a","c"]]),e.end()}),s("Graph.expand(['a', [['b']], 'c']) returns [['a', 'b', 'a', 'c']]",function(e){e.deepEqual(a.default.expand(["a",[["b"]],"c"]),[["a","b","a","c"]]),e.end()}),s("Graph.expand(['a', [['b', [d]]], 'c']) returns [['a', 'b', 'd', 'b', 'a', 'c']]",function(e){e.deepEqual(a.default.expand(["a",[["b",["d"]]],"c"]),[["a","b","d","b","a","c"]]),e.end()}),s("Graph.expand(['a', ['b1', 'b2'], 'c']) returns [['a', 'b1', 'b2', 'a', 'c']]",function(e){e.deepEqual(a.default.expand(["a",["b1","b2"],"c"]),[["a","b1","b2","a","c"]]),e.end()}),s("Graph.expand(['a0', ['b1', 'b2', 'b3'], 'c3']) returns [['a0', 'b1', 'b2', 'b3', 'a0', 'c3']]",function(e){e.deepEqual(a.default.expand(["a0",["b1","b2","b3"],"c3"]),[["a0","b1","b2","b3","a0","c3"]]),e.end()}),s("Graph.expand(['opt', ['mda', ['d1', 'd2', 'd3'],'func']]) returns [['opt', 'mda', 'd1', 'd2', 'd3', 'mda','func', 'opt']]",function(e){e.deepEqual(a.default.expand(["opt",["mda",["d1","d2","d3"],"func"]]),[["opt","mda","d1","d2","d3","mda","func","opt"]]),e.end()}),s("Graph.expand([{parallel: ['d1', 'd2']}]) returns [[d1], [d2]]",function(e){e.deepEqual(a.default.expand([{parallel:["d1","d2"]}]),[["d1"],["d2"]]),e.end()}),s("Graph.expand([{parallel: ['d1', 'd2']}]) returns [[d1], [d2]]",function(e){e.deepEqual(a.default.expand([{parallel:["d1","d2"]}]),[["d1"],["d2"]]),e.end()}),s("Graph.expand(['opt', {parallel: ['d1', 'd2', 'd3']}]) returns [['opt', 'd1'], ['opt', 'd2'], ['opt', 'd3']]",function(e){e.deepEqual(a.default.expand(["opt",{parallel:["d1","d2","d3"]}]),[["opt","d1"],["opt","d2"],["opt","d3"]]),e.end()}),s("Graph.expand(['opt', [{parallel: ['d1', 'd2', 'd3']}]]) returns [['opt', 'd1', 'opt'], ['opt', 'd2', 'opt'], ['opt', 'd3', 'opt']]",function(e){e.deepEqual(a.default.expand(["opt",[{parallel:["d1","d2","d3"]}]]),[["opt","d1","opt"],["opt","d2","opt"],["opt","d3","opt"]]),e.end()}),s("Graph.expand(['mda', {parallel: ['d1', 'd2', 'd3']}, 'd4']) returns [['mda', 'd1', 'd4'], ['mda', 'd2', 'd4'], ['mda', 'd3', 'd4']]",function(e){e.deepEqual(a.default.expand(["mda",{parallel:["d1","d2","d3"]},"d4"]),[["mda","d1","d4"],["mda","d2","d4"],["mda","d3","d4"]]),e.end()}),s("Graph.expand(['opt', 'mda', {parallel: ['d1', 'd2', 'd3']}, 'd4']]) returns [['opt', 'mda'], ['mda', 'd1', 'd4'], ['mda', 'd2', 'd4'], ['mda', 'd3', 'd4']]",function(e){e.deepEqual(a.default.expand(["opt","mda",{parallel:["d1","d2","d3"]},"d4"]),[["opt","mda"],["mda","d1","d4"],["mda","d2","d4"],["mda","d3","d4"]]),e.end()}),s("Graph.expand(['opt', ['mda', {parallel: ['d1', 'd2', 'd3']}, 'd4']]) returns [['opt', 'mda'], ['mda', 'd1', 'd4'], ['mda', 'd2', 'd4'], ['mda', 'd3', 'd4'], ['d4', 'opt']]",function(e){e.deepEqual(a.default.expand(["opt",["mda",{parallel:["d1","d2","d3"]},"d4"]]),[["opt","mda"],["mda","d1","d4"],["mda","d2","d4"],["mda","d3","d4"],["d4","opt"]]),e.end()}),s("Graph.expand((['_U_', ['opt', ['mda', {parallel: ['d1', 'd2', 'd3']}, 'd4']]]) returns [['_U_', 'opt', 'mda'], ['mda', 'd1', 'd4'], ['mda', 'd2', 'd4'], ['mda', 'd3', 'd4'], ['d4', 'opt', '_U_']]",function(e){e.deepEqual(a.default.expand(["_U_",["opt",["mda",{parallel:["d1","d2","d3"]},"d4"]]]),[["_U_","opt","mda"],["mda","d1","d4"],["mda","d2","d4"],["mda","d3","d4"],["d4","opt","_U_"]]),e.end()}),s("Graph.expand((['_U_', ['opt', ['mda', ['d1', 'd2']]]]) returns [['_U_', 'opt', 'mda', 'd1', 'd2', 'mda', 'opt', '_U_']]",function(e){e.deepEqual(a.default.expand(["_U_",["opt",["mda",["d1","d2"]]]]),[["_U_","opt","mda","d1","d2","mda","opt","_U_"]]),e.end()}),s("Graph.expand((['_U_', ['opt', ['mda', ['d1', 'd2'], 'mda', ['d1', 'd2']]]]) returns [['_U_', 'opt', 'mda', 'd1', 'd2', 'mda', 'mda', 'd1', 'd2', 'mda', 'opt', '_U_']]",function(e){e.deepEqual(a.default.expand(["_U_",["opt",["mda",["d1","d2"],"mda",["d1","d2"]]]]),[["_U_","opt","mda","d1","d2","mda","mda","d1","d2","mda","opt","_U_"]]),e.end()}),s("Graph.expand((['_U_', ['opt', ['mda', ['d1', 'd2'], {parallel: ['sc1', 'sc2']},'mda', ['d1', 'd2']]]]) returns [['_U_', 'opt', 'mda', 'd1', 'd2', 'mda'], ['mda', 'sc1', 'mda'], ['mda', 'sc2', 'mda'], ['mda', 'd1', 'd2', 'mda', 'opt', '_U_']]",function(e){e.deepEqual(a.default.expand(["_U_",["opt",["mda",["d1","d2"],{parallel:["sc1","sc2"]},"mda",["d1","d2"]]]]),[["_U_","opt","mda","d1","d2","mda"],["mda","sc1","mda"],["mda","sc2","mda"],["mda","d1","d2","mda","opt","_U_"]]),e.end()}),s("Graph.expand((['d1', {parallel: ['sc1', 'sc2']}, 'd2']) returns [['d1', 'sc1', 'd2'], ['d1', 'sc2', 'd2']]",function(e){e.deepEqual(a.default.expand(["d1",{parallel:["sc1","sc2"]},"d2"]),[["d1","sc1","d2"],["d1","sc2","d2"]]),e.end()}),s("Graph.expand((['opt', ['d1', {parallel: ['sc1', 'sc2']}]]) returns [['opt', 'd1'] ['d1', 'sc1', 'opt'], ['d1', 'sc2', 'opt']]",function(e){e.deepEqual(a.default.expand(["opt",["d1",{parallel:["sc1","sc2"]}]]),[["opt","d1"],["d1","sc1","opt"],["d1","sc2","opt"],["opt","opt"]]),e.end()}),s("Graph.chains should expand as list of index couples",function(e){var t=new a.default({nodes:[{id:"Opt",name:"Opt"},{id:"MDA",name:"MDA"},{id:"DA1",name:"DA1"},{id:"DA2",name:"DA2"},{id:"DA3",name:"DA3"},{id:"Func",name:"Func"}],edges:[],workflow:["Opt",["MDA",["DA1","DA2","DA3"],"Func"]]});e.deepEqual(t.chains,[[[1,2],[2,3],[3,4],[4,5],[5,2],[2,6],[6,1]]]),e.end()}),s("Graph.chains should expand as list of index couples",function(e){var t=new a.default({nodes:[{id:"Opt",name:"Opt"},{id:"DA1",name:"DA1"},{id:"DA2",name:"DA2"},{id:"DA3",name:"DA3"},{id:"Func",name:"Func"}],edges:[],workflow:[["Opt",["DA1"],"Opt",["DA2"],"Opt",["DA3"],"Func"]]});e.deepEqual(t.chains,[[[1,2],[2,1],[1,3],[3,1],[1,4],[4,1],[1,5]]]),e.end()}),s("Graph.number(['d1']) returns {'toNum':{d1: '0'}, 'toNodes':[['d1']])",function(e){e.deepEqual(a.default.number(["d1"]),{toNum:{d1:"0"},toNode:[["d1"]]}),e.equal(a.default.number(["d1"]).toNode.length,1),e.end()}),s("Graph.number(['d1', 'd1']) returns {'toNum':{d1: '0,1'}, 'toNodes':[['d1'],['d1']]})",function(e){e.deepEqual(a.default.number(["d1","d1"]),{toNum:{d1:"0,1"},toNode:[["d1"],["d1"]]}),e.end()}),s("Graph.number(['mda', 'd1']) returns {'toNum':{mda:'0', d1: '1'}, 'toNode':[['mda'], ['d1']]})",function(e){e.deepEqual(a.default.number(["mda","d1"]),{toNum:{mda:"0",d1:"1"},toNode:[["mda"],["d1"]]}),e.end()}),s("Graph.number(['mda', 'd1', 'd2', 'd3']) returns {mda: '0', d1: '1', d2: '2', d3: '3'})",function(e){e.deepEqual(a.default.number(["mda","d1","d2","d3"]).toNum,{mda:"0",d1:"1",d2:"2",d3:"3"}),e.end()}),s("Graph.number(['mda', ['d1', 'd2', 'd3']]) returns {mda: '0,4-1', d1: '1', d2: '2', d3: '3'} )",function(e){e.deepEqual(a.default.number(["mda",["d1","d2","d3"]]).toNum,{mda:"0,4-1",d1:"1",d2:"2",d3:"3"}),e.end()}),s("Graph.number(['mda', {parallel:['d1', 'd2', 'd3']}]) returns {'mda': '0', 'd1': '1', 'd2': '1', 'd3': '1'})",function(e){e.deepEqual(a.default.number(["mda",{parallel:["d1","d2","d3"]}]).toNum,{mda:"0",d1:"1",d2:"1",d3:"1"}),e.end()}),s("Graph.number(['mda', [{parallel:['d1', 'd2', 'd3']}]]) returns {'toNum':{'mda': '0,2-1', 'd1': '1', 'd2': '1', 'd3': '1'}, 'toNode':[['mda'], ['d1','d2','d3']]})",function(e){e.deepEqual(a.default.number(["mda",[{parallel:["d1","d2","d3"]}]]).toNum,{mda:"0,2-1",d1:"1",d2:"1",d3:"1"}),e.deepEqual(a.default.number(["mda",[{parallel:["d1","d2","d3"]}]]).toNode,[["mda"],["d1","d2","d3"],["mda"]]),e.end()}),s("Graph.number(['opt', 'mda', ['d1', 'd2', 'd3']]) returns {'opt': '0', 'mda': '1,5-2', 'd1': '2', 'd2': '3', 'd3': '4'})",function(e){e.deepEqual(a.default.number(["opt","mda",["d1","d2","d3"]]).toNum,{opt:"0",mda:"1,5-2",d1:"2",d2:"3",d3:"4"}),e.end()}),s("Graph.number([['opt', ['mda', ['d1', 'd2', 'd3']]], 'd4']) returns {'opt': '0,6-1', 'mda': '1,5-2', 'd1': '2', 'd2': '3', 'd3': '4', 'd4': '7'})",function(e){e.deepEqual(a.default.number([["opt",["mda",["d1","d2","d3"]]],"d4"]).toNum,{opt:"0,6-1",mda:"1,5-2",d1:"2",d2:"3",d3:"4",d4:"7"}),e.end()}),s("Graph.number([['Opt', ['mda', ['d1'], 's1']]]) returns {'Opt': '0,5-1', 'mda': '1,3-2', 'd1': '2', 's1': '4'})",function(e){e.deepEqual(a.default.number([["Opt",["mda",["d1"],"s1"]]]).toNum,{Opt:"0,5-1",mda:"1,3-2",d1:"2",s1:"4"}),e.end()}),s("Graph.findEdgesOf(nodeIdx) returns edges to remove and edges to delete in case of node removal",function(e){var t=r();e.deepEqual(t.findEdgesOf(1),{toRemove:[t.edges[0],t.edges[1],t.edges[4]],toShift:[t.edges[2],t.edges[3]]}),e.deepEqual(t.findEdgesOf(3),{toRemove:[t.edges[1],t.edges[2],t.edges[3]],toShift:[t.edges[4]]}),e.deepEqual(t.findEdgesOf(4),{toRemove:[t.edges[3]],toShift:[t.edges[4]]}),e.end()}),s("Graph.addNode()",function(e){var t=r();e.equal(t.nodes.length,6),t.addNode({id:"F",name:"F",kind:"analysis"}),e.equal(t.nodes.length,7),e.end()}),s("Graph.removeNode()",function(e){var t=r();e.equal(t.nodes.length,6),t.removeNode(4),e.equal(t.nodes.length,5),e.end()}),s("Graph.getNode()",function(e){var t=r();e.equal(t.getNode("A"),t.nodes[1]),e.equal(t.getNode("E"),t.nodes[5]),e.end()}),s("Graph.idxOf()",function(e){var t=r();e.equal(t.idxOf("B"),2),e.equal(t.idxOf("E"),5),e.end()}),s("Graph constructor should create a graph without edges or workflow input data)",function(e){var t={nodes:[{id:"A"},{id:"B"}]},n=new a.default(t);e.deepEqual(n.edges,[]),e.deepEqual(n.chains,[]),e.end()}),s("Graph nodes have a status UNKNOWN by default",function(e){var t=new a.default({nodes:[{id:"A"},{id:"B"}]});e.deepEqual(t.getNode("A").status,a.default.NODE_STATUS.UNKNOWN),e.end()}),s("Graph nodes can be to a given status PENDING, RUNNING, DONE or FAILED",function(e){var t=new a.default({nodes:[{id:"A",status:"PENDING"},{id:"B",status:"RUNNING"},{id:"C",status:"DONE"},{id:"D",status:"FAILED"}]});e.deepEqual(t.getNode("A").status,a.default.NODE_STATUS.PENDING),e.deepEqual(t.getNode("B").status,a.default.NODE_STATUS.RUNNING),e.deepEqual(t.getNode("C").status,a.default.NODE_STATUS.DONE),e.deepEqual(t.getNode("D").status,a.default.NODE_STATUS.FAILED),e.end()}),s("Graph throws an error if a node status string not known",function(e){e.throws(function(){new a.default({nodes:[{id:"A",status:"BADSTATUS"}]})},"should throw an error"),e.end()}),s("Graph edge can have vars infos id/names from name",function(e){var t=r(),n=t.findEdge("A","B");e.deepEqual(n.element.vars,{0:"a",1:"b"}),e.end()}),s("Graph edge can have vars infos id/names",function(e){var t=o();e.equal(t.getNode("E"),t.nodes[5]);var n=t.findEdge("C","D").element;e.equal(n.vars[3],"c"),e.equal(n.vars[4],"d"),e.deepEqual(n.vars,{3:"c",4:"d"}),e.equal(n.name,"c, d"),e.end()}),s("Graph add new var between two given nodes not linked",function(e){var t=o();t.addEdgeVar("A","D",{4:"d"});var n=t.findEdge("A","D").element;e.equal(n.vars[4],"d"),e.deepEqual(n.vars,{4:"d"}),e.equal(n.name,"d"),e.end()}),s("Graph a var should appear once even if added twice",function(e){var t=o();t.addEdgeVar("A","D",{4:"d"}),t.addEdgeVar("A","D",{4:"d"});var n=t.findEdge("A","D").element;e.equal(n.name,"d"),t.removeEdge("A","D");t.findEdge("A","D").index;e.equal(n.index,void 0),e.end()}),s("Graph add new var between two given nodes already linked",function(e){var t=o();t.addEdgeVar("A","B",{4:"d"});var n=t.findEdge("A","B").element;e.deepEqual(n.vars,{1:"a",2:"b",4:"d"}),e.equal(n.name,"a, b, d"),e.end()}),s("Remove var of an edge",function(e){var t=o(),n=t.findEdge("A","B").element;n.removeVar("b"),e.equal(n.name,"a"),e.end()}),s("Remove edge between two given nodes",function(e){var t=o(),n=t.findEdge("E","A").element;e.notEqual(n,void 0),t.removeEdge("E","A"),n=t.findEdge("E","A").element,e.equal(n,void 0),e.end()}),s("Remove edge one var between two given nodes",function(e){var t=o(),n=t.findEdge("E","A").element;e.notEqual(n,void 0),t.removeEdgeVar("E","A","e"),n=t.findEdge("E","A").element,e.deepEqual(n.vars,{1:"a"}),e.end()}),s("Remove edge all vars between two given nodes",function(e){var t=o(),n=t.findEdge("E","A").element;e.notEqual(n,void 0),t.removeEdgeVar("E","A","e"),t.removeEdgeVar("E","A","a"),n=t.findEdge("E","A").element,e.equal(n,void 0),e.end()})},,function(e,t,n){"use strict";function r(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===e[t-2]?2:"="===e[t-1]?1:0}function o(e){return 3*e.length/4-r(e)}function i(e){var t,n,o,i,a,s,u=e.length;a=r(e),s=new d(3*u/4-a),o=a>0?u-4:u;var f=0;for(t=0,n=0;t<o;t+=4,n+=3)i=c[e.charCodeAt(t)]<<18|c[e.charCodeAt(t+1)]<<12|c[e.charCodeAt(t+2)]<<6|c[e.charCodeAt(t+3)],s[f++]=i>>16&255,s[f++]=i>>8&255,s[f++]=255&i;return 2===a?(i=c[e.charCodeAt(t)]<<2|c[e.charCodeAt(t+1)]>>4,s[f++]=255&i):1===a&&(i=c[e.charCodeAt(t)]<<10|c[e.charCodeAt(t+1)]<<4|c[e.charCodeAt(t+2)]>>2,s[f++]=i>>8&255,s[f++]=255&i),s}function a(e){return f[e>>18&63]+f[e>>12&63]+f[e>>6&63]+f[63&e]}function s(e,t,n){for(var r,o=[],i=t;i<n;i+=3)r=(e[i]<<16)+(e[i+1]<<8)+e[i+2],o.push(a(r));return o.join("")}function u(e){for(var t,n=e.length,r=n%3,o="",i=[],a=0,u=n-r;a<u;a+=16383)i.push(s(e,a,a+16383>u?u:a+16383));return 1===r?(t=e[n-1],o+=f[t>>2],o+=f[t<<4&63],o+="=="):2===r&&(t=(e[n-2]<<8)+e[n-1],o+=f[t>>10],o+=f[t>>4&63],o+=f[t<<2&63],o+="="),i.push(o),i.join("")}t.byteLength=o,t.toByteArray=i,t.fromByteArray=u;for(var f=[],c=[],d="undefined"!=typeof Uint8Array?Uint8Array:Array,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",p=0,h=l.length;p<h;++p)f[p]=l[p],c[l.charCodeAt(p)]=p;c["-".charCodeAt(0)]=62,c["_".charCodeAt(0)]=63},function(e,t,n){function r(e){return null===e||void 0===e}function o(e){return!(!e||"object"!=typeof e||"number"!=typeof e.length)&&("function"==typeof e.copy&&"function"==typeof e.slice&&!(e.length>0&&"number"!=typeof e[0]))}function i(e,t,n){var i,c;if(r(e)||r(t))return!1;if(e.prototype!==t.prototype)return!1;if(u(e))return!!u(t)&&(e=a.call(e),t=a.call(t),f(e,t,n));if(o(e)){if(!o(t))return!1;if(e.length!==t.length)return!1;for(i=0;i<e.length;i++)if(e[i]!==t[i])return!1;return!0}try{var d=s(e),l=s(t)}catch(e){return!1}if(d.length!=l.length)return!1;for(d.sort(),l.sort(),i=d.length-1;i>=0;i--)if(d[i]!=l[i])return!1;for(i=d.length-1;i>=0;i--)if(c=d[i],!f(e[c],t[c],n))return!1;return typeof e==typeof t}var a=Array.prototype.slice,s=n(36),u=n(35),f=e.exports=function(e,t,n){return n||(n={}),e===t||(e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():!e||!t||"object"!=typeof e&&"object"!=typeof t?n.strict?e===t:e==t:i(e,t,n))}},function(e,t){function n(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function r(e){return e&&"object"==typeof e&&"number"==typeof e.length&&Object.prototype.hasOwnProperty.call(e,"callee")&&!Object.prototype.propertyIsEnumerable.call(e,"callee")||!1}var o="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();t=e.exports=o?n:r,t.supported=n,t.unsupported=r},function(e,t){function n(e){var t=[];for(var n in e)t.push(n);return t}t=e.exports="function"==typeof Object.keys?Object.keys:n,t.shim=n},function(e,t,n){"use strict";var r=n(39),o=n(38),i=n(41),a=n(40),s=n(20),u=n(42),f={ToPrimitive:u,ToBoolean:function(e){return Boolean(e)},ToNumber:function(e){return Number(e)},ToInteger:function(e){var t=this.ToNumber(e);return r(t)?0:0!==t&&o(t)?i(t)*Math.floor(Math.abs(t)):t},ToInt32:function(e){return this.ToNumber(e)>>0},ToUint32:function(e){return this.ToNumber(e)>>>0},ToUint16:function(e){var t=this.ToNumber(e);if(r(t)||0===t||!o(t))return 0;var n=i(t)*Math.floor(Math.abs(t));return a(n,65536)},ToString:function(e){return String(e)},ToObject:function(e){return this.CheckObjectCoercible(e),Object(e)},CheckObjectCoercible:function(e,t){if(null==e)throw new TypeError(t||"Cannot call method on "+e);return e},IsCallable:s,SameValue:function(e,t){return e===t?0!==e||1/e==1/t:r(e)&&r(t)},Type:function(e){return null===e?"Null":void 0===e?"Undefined":"function"==typeof e||"object"==typeof e?"Object":"number"==typeof e?"Number":"boolean"==typeof e?"Boolean":"string"==typeof e?"String":void 0}};e.exports=f},function(e,t){var n=Number.isNaN||function(e){return e!==e};e.exports=Number.isFinite||function(e){return"number"==typeof e&&!n(e)&&e!==1/0&&e!==-1/0}},function(e,t){e.exports=Number.isNaN||function(e){return e!==e}},function(e,t){e.exports=function(e,t){var n=e%t;return Math.floor(n>=0?n:n+t)}},function(e,t){e.exports=function(e){return e>=0?1:-1}},function(e,t,n){"use strict";var r=Object.prototype.toString,o=n(43),i=n(20),a={"[[DefaultValue]]":function(e,t){var n=t||("[object Date]"===r.call(e)?String:Number);if(n===String||n===Number){var a,s,u=n===String?["toString","valueOf"]:["valueOf","toString"];for(s=0;s<u.length;++s)if(i(e[u[s]])&&(a=e[u[s]](),o(a)))return a;throw new TypeError("No default value")}throw new TypeError("invalid [[DefaultValue]] hint supplied")}};e.exports=function(e,t){return o(e)?e:a["[[DefaultValue]]"](e,t)}},function(e,t){e.exports=function(e){return null===e||"function"!=typeof e&&"object"!=typeof e}},function(e,t,n){function r(e,t,n){if(!s(t))throw new TypeError("iterator must be a function");arguments.length<3&&(n=this),"[object Array]"===u.call(e)?o(e,t,n):"string"==typeof e?i(e,t,n):a(e,t,n)}function o(e,t,n){for(var r=0,o=e.length;r<o;r++)f.call(e,r)&&t.call(n,e[r],r,e)}function i(e,t,n){for(var r=0,o=e.length;r<o;r++)t.call(n,e.charAt(r),r,e)}function a(e,t,n){for(var r in e)f.call(e,r)&&t.call(n,e[r],r,e)}var s=n(48);e.exports=r;var u=Object.prototype.toString,f=Object.prototype.hasOwnProperty},function(e,t){var n=Object.prototype.hasOwnProperty,r=Object.prototype.toString;e.exports=function(e,t,o){if("[object Function]"!==r.call(t))throw new TypeError("iterator must be a function");var i=e.length;if(i===+i)for(var a=0;a<i;a++)t.call(o,e[a],a,e);else for(var s in e)n.call(e,s)&&t.call(o,e[s],s,e)}},function(e,t){var n=Array.prototype.slice,r=Object.prototype.toString;e.exports=function(e){var t=this;if("function"!=typeof t||"[object Function]"!==r.call(t))throw new TypeError("Function.prototype.bind called on incompatible "+t);for(var o,i=n.call(arguments,1),a=function(){if(this instanceof o){var r=t.apply(this,i.concat(n.call(arguments)));return Object(r)===r?r:this}return t.apply(e,i.concat(n.call(arguments)))},s=Math.max(0,t.length-i.length),u=[],f=0;f<s;f++)u.push("$"+f);if(o=Function("binder","return function ("+u.join(",")+"){ return binder.apply(this,arguments); }")(a),t.prototype){var c=function(){};c.prototype=t.prototype,o.prototype=new c,c.prototype=null}return o}},function(e,t){t.read=function(e,t,n,r,o){var i,a,s=8*o-r-1,u=(1<<s)-1,f=u>>1,c=-7,d=n?o-1:0,l=n?-1:1,p=e[t+d];for(d+=l,i=p&(1<<-c)-1,p>>=-c,c+=s;c>0;i=256*i+e[t+d],d+=l,c-=8);for(a=i&(1<<-c)-1,i>>=-c,c+=r;c>0;a=256*a+e[t+d],d+=l,c-=8);if(0===i)i=1-f;else{if(i===u)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,r),i-=f}return(p?-1:1)*a*Math.pow(2,i-r)},t.write=function(e,t,n,r,o,i){var a,s,u,f=8*i-o-1,c=(1<<f)-1,d=c>>1,l=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:i-1,h=r?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),t+=a+d>=1?l/u:l*Math.pow(2,1-d),t*u>=2&&(a++,u/=2),a+d>=c?(s=0,a=c):a+d>=1?(s=(t*u-1)*Math.pow(2,o),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,o),a=0));o>=8;e[n+p]=255&s,p+=h,s/=256,o-=8);for(a=a<<o|s,f+=o;f>0;e[n+p]=255&a,p+=h,a/=256,f-=8);e[n+p-h]|=128*g}},function(e,t){function n(e){var t=r.call(e);return"[object Function]"===t||"function"==typeof e&&"[object RegExp]"!==t||"undefined"!=typeof window&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)}e.exports=n;var r=Object.prototype.toString},function(e,t){},function(e,t){function n(e){var t=[];for(var n in e)l(e,n)&&t.push(n);return t}function r(e){return String(e).replace(/"/g,"&quot;")}function o(e){return"[object Array]"===p(e)}function i(e){return"[object Date]"===p(e)}function a(e){return"[object RegExp]"===p(e)}function s(e){return"[object Error]"===p(e)}function u(e){return"[object Symbol]"===p(e)}function f(e){return"[object String]"===p(e)}function c(e){return"[object Number]"===p(e)}function d(e){return"[object Boolean]"===p(e)}function l(e,t){return L.call(e,t)}function p(e){return N.call(e)}function h(e){if(e.name)return e.name;var t=String(e).match(/^function\s*([\w$]+)/);return t?t[1]:void 0}function g(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function v(e){if(!A)return!1;try{return A.call(e),!0}catch(e){}return!1}function m(e){if(!R)return!1;try{return R.call(e),!0}catch(e){}return!1}function y(e){return!(!e||"object"!=typeof e)&&("undefined"!=typeof HTMLElement&&e instanceof HTMLElement||"string"==typeof e.nodeName&&"function"==typeof e.getAttribute)}function b(e){return"'"+e.replace(/(['\\])/g,"\\$1").replace(/[\x00-\x1f]/g,w)+"'"}function w(e){var t=e.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return n?"\\"+n:"\\x"+(t<16?"0":"")+t.toString(16)}function _(e){return"Object("+e+")"}function E(e,t,n){return e+" ("+t+") {"+n.join(", ")+"}"}var x="function"==typeof Map&&Map.prototype,S=Object.getOwnPropertyDescriptor&&x?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,A=x&&S&&"function"==typeof S.get?S.get:null,O=x&&Map.prototype.forEach,T="function"==typeof Set&&Set.prototype,k=Object.getOwnPropertyDescriptor&&T?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,R=T&&k&&"function"==typeof k.get?k.get:null,q=T&&Set.prototype.forEach,j=Boolean.prototype.valueOf,N=Object.prototype.toString;e.exports=function e(t,p,w,x){function S(t,n){return n&&(x=x.slice(),x.push(n)),e(t,p,w+1,x)}if(void 0===t)return"undefined";if(null===t)return"null";if("boolean"==typeof t)return t?"true":"false";if("string"==typeof t)return b(t);if("number"==typeof t)return 0===t?1/0/t>0?"0":"-0":String(t);p||(p={});var T=void 0===p.depth?5:p.depth;if(void 0===w&&(w=0),w>=T&&T>0&&"object"==typeof t)return"[Object]";if(void 0===x)x=[];else if(g(x,t)>=0)return"[Circular]";if("function"==typeof t){var k=h(t);return"[Function"+(k?": "+k:"")+"]"}if(u(t)){var N=Symbol.prototype.toString.call(t);return"object"==typeof t?_(N):N}if(y(t)){for(var L="<"+String(t.nodeName).toLowerCase(),P=t.attributes||[],D=0;D<P.length;D++)L+=" "+P[D].name+'="'+r(P[D].value)+'"';return L+=">",t.childNodes&&t.childNodes.length&&(L+="..."),L+="</"+String(t.nodeName).toLowerCase()+">"}if(o(t)){if(0===t.length)return"[]";for(var B=Array(t.length),D=0;D<t.length;D++)B[D]=l(t,D)?S(t[D],t):"";return"[ "+B.join(", ")+" ]"}if(s(t)){var M=[];for(var C in t)l(t,C)&&(/[^\w$]/.test(C)?M.push(S(C)+": "+S(t[C])):M.push(C+": "+S(t[C])));return 0===M.length?"["+String(t)+"]":"{ ["+String(t)+"] "+M.join(", ")+" }"}if("object"==typeof t&&"function"==typeof t.inspect)return t.inspect();if(v(t)){var M=[];return O.call(t,function(e,n){M.push(S(n,t)+" => "+S(e,t))}),E("Map",A.call(t),M)}if(m(t)){var M=[];return q.call(t,function(e){M.push(S(e,t))}),E("Set",R.call(t),M)}if(c(t))return _(Number(t));if(d(t))return _(j.call(t));if(f(t))return _(S(String(t)));if(!i(t)&&!a(t)){var B=[],U=n(t);U.sort();for(var D=0;D<U.length;D++){var C=U[D];/[^\w$]/.test(C)?B.push(S(C)+": "+S(t[C],t)):B.push(C+": "+S(t[C],t))}return 0===B.length?"{}":"{ "+B.join(", ")+" }"}return String(t)};var L=Object.prototype.hasOwnProperty||function(e){return e in this}},function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty,o=Object.prototype.toString,i=Array.prototype.slice,a=n(52),s=Object.prototype.propertyIsEnumerable,u=!s.call({toString:null},"toString"),f=s.call(function(){},"prototype"),c=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],d=function(e){var t=e.constructor;return t&&t.prototype===e},l={$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},p=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!l["$"+e]&&r.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{d(window[e])}catch(e){return!0}}catch(e){return!0}return!1}(),h=function(e){if("undefined"==typeof window||!p)return d(e);try{return d(e)}catch(e){return!1}},g=function(e){var t=null!==e&&"object"==typeof e,n="[object Function]"===o.call(e),i=a(e),s=t&&"[object String]"===o.call(e),d=[];if(!t&&!n&&!i)throw new TypeError("Object.keys called on a non-object");var l=f&&n;if(s&&e.length>0&&!r.call(e,0))for(var p=0;p<e.length;++p)d.push(String(p));if(i&&e.length>0)for(var g=0;g<e.length;++g)d.push(String(g));else for(var v in e)l&&"prototype"===v||!r.call(e,v)||d.push(String(v));if(u)for(var m=h(e),y=0;y<c.length;++y)m&&"constructor"===c[y]||!r.call(e,c[y])||d.push(c[y]);return d};g.shim=function(){if(Object.keys){if(!function(){return 2===(Object.keys(arguments)||"").length}(1,2)){var e=Object.keys;Object.keys=function(t){return e(a(t)?i.call(t):t)}}}else Object.keys=g;return Object.keys||g},e.exports=g},function(e,t,n){"use strict";var r=Object.prototype.toString;e.exports=function(e){var t=r.call(e),n="[object Arguments]"===t;return n||(n="[object Array]"!==t&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===r.call(e.callee)),n}},function(e,t,n){(function(e){function n(e,t){for(var n=0,r=e.length-1;r>=0;r--){var o=e[r];"."===o?e.splice(r,1):".."===o?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function r(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}var o=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,i=function(e){return o.exec(e).slice(1)};t.resolve=function(){for(var t="",o=!1,i=arguments.length-1;i>=-1&&!o;i--){var a=i>=0?arguments[i]:e.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(t=a+"/"+t,o="/"===a.charAt(0))}return t=n(r(t.split("/"),function(e){return!!e}),!o).join("/"),(o?"/":"")+t||"."},t.normalize=function(e){var o=t.isAbsolute(e),i="/"===a(e,-1);return e=n(r(e.split("/"),function(e){return!!e}),!o).join("/"),e||o||(e="."),e&&i&&(e+="/"),(o?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(r(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},t.relative=function(e,n){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var o=r(e.split("/")),i=r(n.split("/")),a=Math.min(o.length,i.length),s=a,u=0;u<a;u++)if(o[u]!==i[u]){s=u;break}for(var f=[],u=s;u<o.length;u++)f.push("..");return f=f.concat(i.slice(s)),f.join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){var t=i(e),n=t[0],r=t[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},t.basename=function(e,t){var n=i(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){return i(e)[3]};var a="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(t,n(0))},function(e,t,n){e.exports=n(2)},function(e,t,n){e.exports=n(22)},function(e,t,n){var r=function(){try{return n(10)}catch(e){}}();t=e.exports=n(23),t.Stream=r||t,t.Readable=t,t.Writable=n(15),t.Duplex=n(2),t.Transform=n(14),t.PassThrough=n(22)},function(e,t,n){e.exports=n(14)},function(e,t,n){e.exports=n(15)},function(e,t,n){(function(t,r){var o=n(11),i=void 0!==t?t:r.nextTick;e.exports=function(e,t){var n=o(e,t);n.pause();var r=n.resume,a=n.pause,s=!1;return n.pause=function(){return s=!0,a.apply(this,arguments)},n.resume=function(){return s=!1,r.apply(this,arguments)},i(function(){s||n.resume()}),n}}).call(t,n(8).setImmediate,n(0))},function(e,t,n){(function(e,t){!function(e,n){"use strict";function r(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var r={callback:e,args:t};return f[u]=r,s(u),u++}function o(e){delete f[e]}function i(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}function a(e){if(c)setTimeout(a,0,e);else{var t=f[e];if(t){c=!0;try{i(t)}finally{o(e),c=!1}}}}if(!e.setImmediate){var s,u=1,f={},c=!1,d=e.document,l=Object.getPrototypeOf&&Object.getPrototypeOf(e);l=l&&l.setTimeout?l:e,"[object process]"==={}.toString.call(e.process)?function(){s=function(e){t.nextTick(function(){a(e)})}}():function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(t)&&a(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),s=function(n){e.postMessage(t+n,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){a(e.data)},s=function(t){e.port2.postMessage(t)}}():d&&"onreadystatechange"in d.createElement("script")?function(){var e=d.documentElement;s=function(t){var n=d.createElement("script");n.onreadystatechange=function(){a(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():function(){s=function(e){setTimeout(a,0,e)}}(),l.setImmediate=r,l.clearImmediate=o}}("undefined"==typeof self?void 0===e?this:e:self)}).call(t,n(16),n(0))},function(e,t,n){"use strict";var r=n(7),o=n(18),i=n(24),a=n(25),s=n(62),u=r.call(Function.call,a());o(u,{getPolyfill:a,implementation:i,shim:s}),e.exports=u},function(e,t,n){"use strict";var r=n(18),o=n(25);e.exports=function(){var e=o();return r(String.prototype,{trim:e},{trim:function(){return String.prototype.trim!==e}}),e}},function(e,t,n){(function(t){var r=n(11),o=n(49);e.exports=function(){function e(e){for(var t=0;t<e.length;t++){var r="string"==typeof e?e.charAt(t):String.fromCharCode(e[t]);"\n"===r?n():i+=r}}function n(){if(o.writeSync&&/^win/.test(t.platform))try{o.writeSync(1,i+"\n")}catch(e){a.emit("error",e)}else try{console.log(i)}catch(e){a.emit("error",e)}i=""}var i="",a=r(e,n);return a}}).call(t,n(0))},function(e,t,n){(function(t,r){function o(){if(!(this instanceof o))return new o;this.count=0,this.fail=0,this.pass=0,this._stream=c(),this.tests=[],this._only=null}function i(e,t){var n="";if(n+=(e.ok?"ok ":"not ok ")+t,n+=e.name?" "+e.name.toString().replace(/\s+/g," "):"",e.skip?n+=" # SKIP":e.todo&&(n+=" # TODO"),n+="\n",e.ok)return n;if(n+="  ---\n",n+="    operator: "+e.operator+"\n",h(e,"expected")||h(e,"actual")){var r=l(e.expected,{depth:e.objectPrintDepth}),o=l(e.actual,{depth:e.objectPrintDepth});Math.max(r.length,o.length)>65||s(r)||s(o)?(n+="    expected: |-\n      "+r+"\n",n+="    actual: |-\n      "+o+"\n"):(n+="    expected: "+r+"\n",n+="    actual:   "+o+"\n")}if(e.at&&(n+="    at: "+e.at+"\n"),"error"===e.operator&&e.actual&&e.actual.stack){var i=String(e.actual.stack).split("\n");n+="    stack: |-\n";for(var a=0;a<i.length;a++)n+="      "+i[a]+"\n"}return n+="  ...\n"}function a(e){if(!e._only)return e.tests.shift();do{var t=e.tests.shift();if(t&&e._only===t)return t}while(0!==e.tests.length)}function s(e){return g(v,e)}var u=n(4).EventEmitter,f=n(1),c=n(11),d=n(59),l=n(50),p=n(7),h=n(19),g=p.call(Function.call,RegExp.prototype.test),v=/\:|\-|\?/,m=void 0!==t?t:r.nextTick;e.exports=o,f(o,u),o.prototype.createStream=function(e){e||(e={});var t,n=this,r=0;return e.objectMode?(t=c(),n.on("_push",function e(n,o){o||(o={});var i=r++;n.once("prerun",function(){var e={type:"test",name:n.name,id:i};h(o,"parent")&&(e.parent=o.parent),t.queue(e)}),n.on("test",function(t){e(t,{parent:i})}),n.on("result",function(e){e.test=i,e.type="assert",t.queue(e)}),n.on("end",function(){t.queue({type:"end",test:i})})}),n.on("done",function(){t.queue(null)})):(t=d(),t.queue("TAP version 13\n"),n._stream.pipe(t)),m(function e(){for(var t;t=a(n);)if(t.run(),!t.ended)return t.once("end",function(){m(e)});n.emit("done")}),t},o.prototype.push=function(e){var t=this;t.tests.push(e),t._watch(e),t.emit("_push",e)},o.prototype.only=function(e){this._only=e},o.prototype._watch=function(e){var t=this,n=function(e){t._stream.queue(e)};e.once("prerun",function(){n("# "+e.name+"\n")}),e.on("result",function(e){if("string"==typeof e)return void n("# "+e+"\n");n(i(e,t.count+1)),t.count++,e.ok?t.pass++:t.fail++}),e.on("test",function(e){t._watch(e)})},o.prototype.close=function(){var e=this;e.closed&&e._stream.emit("error",new Error("ALREADY CLOSED")),e.closed=!0;var t=function(t){e._stream.queue(t)};t("\n1.."+e.count+"\n"),t("# tests "+e.count+"\n"),t("# pass  "+e.pass+"\n"),t(e.fail?"# fail  "+e.fail+"\n":"\n# ok\n"),e._stream.queue(null)}}).call(t,n(8).setImmediate,n(0))},function(e,t,n){(function(t,r,o){function i(e,t,n){if(!(this instanceof i))return new i(e,t,n);var r=y(e,t,n);this.readable=!0,this.name=r.name||"(anonymous)",this.assertCount=0,this.pendingCount=0,this._skip=r.opts.skip||!1,this._timeout=r.opts.timeout,this._objectPrintDepth=r.opts.objectPrintDepth||5,this._plan=void 0,this._cb=r.cb,this._progeny=[],this._ok=!0;for(var o in this)this[o]=function(e,t){return"function"==typeof t?function(){return t.apply(e,arguments)}:t}(this,this[o])}var a=n(34),s=n(27),u=n(53),f=n(1),c=n(4).EventEmitter,d=n(19),l=n(61),p=n(7),h=n(44),g=p.call(Function.call,Object.prototype.propertyIsEnumerable);e.exports=i;var v=void 0!==t?t:r.nextTick,m=setTimeout;f(i,c);var y=function(e,t,n){for(var r,o="(anonymous)",i={},a=0;a<arguments.length;a++){var s=arguments[a],u=typeof s;"string"===u?o=s:"object"===u?i=s||i:"function"===u&&(r=s)}return{name:o,opts:i,cb:r}};i.prototype.run=function(){if(this._skip&&this.comment("SKIP "+this.name),!this._cb||this._skip)return this._end();null!=this._timeout&&this.timeoutAfter(this._timeout),this.emit("prerun"),this._cb(this),this.emit("run")},i.prototype.test=function(e,t,n){var r=this,o=new i(e,t,n);this._progeny.push(o),this.pendingCount++,this.emit("test",o),o.on("prerun",function(){r.assertCount++}),r._pendingAsserts()||v(function(){r._end()}),v(function(){r._plan||r.pendingCount!=r._progeny.length||r._end()})},i.prototype.comment=function(e){var t=this;h(l(e).split("\n"),function(e){t.emit("result",l(e).replace(/^#\s*/,""))})},i.prototype.plan=function(e){this._plan=e,this.emit("plan",e)},i.prototype.timeoutAfter=function(e){if(!e)throw new Error("timeoutAfter requires a timespan");var t=this,n=m(function(){t.fail("test timed out after "+e+"ms"),t.end()},e);this.once("end",function(){clearTimeout(n)})},i.prototype.end=function(e){arguments.length>=1&&e&&this.ifError(e),this.calledEnd&&this.fail(".end() called twice"),this.calledEnd=!0,this._end()},i.prototype._end=function(e){var t=this;if(this._progeny.length){var n=this._progeny.shift();return n.on("end",function(){t._end()}),void n.run()}this.ended||this.emit("end");var r=this._pendingAsserts();!this._planError&&void 0!==this._plan&&r&&(this._planError=!0,this.fail("plan != count",{expected:this._plan,actual:this.assertCount})),this.ended=!0},i.prototype._exit=function(){void 0===this._plan||this._planError||this.assertCount===this._plan?this.ended||this.fail("test exited without ending",{exiting:!0}):(this._planError=!0,this.fail("plan != count",{expected:this._plan,actual:this.assertCount,exiting:!0}))},i.prototype._pendingAsserts=function(){return void 0===this._plan?1:this._plan-(this._progeny.length+this.assertCount)},i.prototype._assert=function(e,t){var n=this,r=t.extra||{},i={id:n.assertCount++,ok:Boolean(e),skip:s(r.skip,t.skip),name:s(r.message,t.message,"(unnamed assert)"),operator:s(r.operator,t.operator),objectPrintDepth:n._objectPrintDepth};if((d(t,"actual")||d(r,"actual"))&&(i.actual=s(r.actual,t.actual)),(d(t,"expected")||d(r,"expected"))&&(i.expected=s(r.expected,t.expected)),this._ok=Boolean(this._ok&&e),e||(i.error=s(r.error,t.error,new Error(i.name))),!e)for(var a=new Error("exception"),f=(a.stack||"").split("\n"),c=u.dirname(o)+u.sep,l=0;l<f.length;l++){var p=/^[^\s]*\s*\bat\s+(.+)/.exec(f[l]);if(p){var h=p[1].split(/\s+/),g=/((?:\/|[A-Z]:\\)[^:\s]+:(\d+)(?::(\d+))?)/.exec(h[1]);if((g||(g=/((?:\/|[A-Z]:\\)[^:\s]+:(\d+)(?::(\d+))?)/.exec(h[2]))||(g=/((?:\/|[A-Z]:\\)[^:\s]+:(\d+)(?::(\d+))?)/.exec(h[3])))&&g[1].slice(0,c.length)!==c){i.functionName=h[0],i.file=g[1],i.line=Number(g[2]),g[3]&&(i.column=g[3]),i.at=p[1];break}}}n.emit("result",i);var m=n._pendingAsserts();m||(r.exiting?n._end():v(function(){n._end()})),!n._planError&&m<0&&(n._planError=!0,n.fail("plan != count",{expected:n._plan,actual:n._plan-m}))},i.prototype.fail=function(e,t){this._assert(!1,{message:e,operator:"fail",extra:t})},i.prototype.pass=function(e,t){this._assert(!0,{message:e,operator:"pass",extra:t})},i.prototype.skip=function(e,t){this._assert(!0,{message:e,operator:"skip",skip:!0,extra:t})},i.prototype.ok=i.prototype.true=i.prototype.assert=function(e,t,n){this._assert(e,{message:s(t,"should be truthy"),operator:"ok",expected:!0,actual:e,extra:n})},i.prototype.notOk=i.prototype.false=i.prototype.notok=function(e,t,n){this._assert(!e,{message:s(t,"should be falsy"),operator:"notOk",expected:!1,actual:e,extra:n})},i.prototype.error=i.prototype.ifError=i.prototype.ifErr=i.prototype.iferror=function(e,t,n){this._assert(!e,{message:s(t,String(e)),operator:"error",actual:e,extra:n})},i.prototype.equal=i.prototype.equals=i.prototype.isEqual=i.prototype.is=i.prototype.strictEqual=i.prototype.strictEquals=function(e,t,n,r){this._assert(e===t,{message:s(n,"should be equal"),operator:"equal",actual:e,expected:t,extra:r})},i.prototype.notEqual=i.prototype.notEquals=i.prototype.notStrictEqual=i.prototype.notStrictEquals=i.prototype.isNotEqual=i.prototype.isNot=i.prototype.not=i.prototype.doesNotEqual=i.prototype.isInequal=function(e,t,n,r){this._assert(e!==t,{message:s(n,"should not be equal"),operator:"notEqual",actual:e,notExpected:t,extra:r})},i.prototype.deepEqual=i.prototype.deepEquals=i.prototype.isEquivalent=i.prototype.same=function(e,t,n,r){this._assert(a(e,t,{strict:!0}),{message:s(n,"should be equivalent"),operator:"deepEqual",actual:e,expected:t,extra:r})},i.prototype.deepLooseEqual=i.prototype.looseEqual=i.prototype.looseEquals=function(e,t,n,r){this._assert(a(e,t),{message:s(n,"should be equivalent"),operator:"deepLooseEqual",actual:e,expected:t,extra:r})},i.prototype.notDeepEqual=i.prototype.notEquivalent=i.prototype.notDeeply=i.prototype.notSame=i.prototype.isNotDeepEqual=i.prototype.isNotDeeply=i.prototype.isNotEquivalent=i.prototype.isInequivalent=function(e,t,n,r){this._assert(!a(e,t,{strict:!0}),{message:s(n,"should not be equivalent"),operator:"notDeepEqual",actual:e,notExpected:t,extra:r})},i.prototype.notDeepLooseEqual=i.prototype.notLooseEqual=i.prototype.notLooseEquals=function(e,t,n,r){this._assert(!a(e,t),{message:s(n,"should be equivalent"),operator:"notDeepLooseEqual",actual:e,expected:t,extra:r})},i.prototype.throws=function(e,t,n,r){"string"==typeof t&&(n=t,t=void 0);var o=void 0;try{e()}catch(e){if(o={error:e},!(null==e||g(e,"message")&&d(e,"message"))){var i=e.message;delete e.message,e.message=i}}var a=o;t instanceof RegExp&&(a=t.test(o&&o.error),t=String(t)),"function"==typeof t&&o&&(a=o.error instanceof t,o.error=o.error.constructor),this._assert("function"==typeof e&&a,{message:s(n,"should throw"),operator:"throws",actual:o&&o.error,expected:t,error:!a&&o&&o.error,extra:r})},i.prototype.doesNotThrow=function(e,t,n,r){"string"==typeof t&&(n=t,t=void 0);var o=void 0;try{e()}catch(e){o={error:e}}this._assert(!o,{message:s(n,"should not throw"),operator:"throws",actual:o&&o.error,expected:t,error:o&&o.error,extra:r})},i.skip=function(e,t,n){var r=y.apply(null,arguments);return r.opts.skip=!0,i(r.name,r.opts,r.cb)}}).call(t,n(8).setImmediate,n(0),"/")},function(e,t,n){(function(t){function n(e,t){function n(){if(!o){if(r("throwDeprecation"))throw new Error(t);r("traceDeprecation")?console.trace(t):console.warn(t),o=!0}return e.apply(this,arguments)}if(r("noDeprecation"))return e;var o=!1;return n}function r(e){try{if(!t.localStorage)return!1}catch(e){return!1}var n=t.localStorage[e];return null!=n&&"true"===String(n).toLowerCase()}e.exports=n}).call(t,n(16))},function(e,t){}]);
//# sourceMappingURL=xdsm-test.bundle.js.map